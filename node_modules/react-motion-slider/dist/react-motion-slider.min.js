!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM"),require("ReactMotion")):"function"==typeof define&&define.amd?define(["React","ReactDOM","ReactMotion"],t):"object"==typeof exports?exports.Slider=t(require("React"),require("ReactDOM"),require("ReactMotion")):e.Slider=t(e.React,e.ReactDOM,e.ReactMotion)}(this,function(e,t,n){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(1),o=i(r);t["default"]=o["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=n(2),d=i(p),c=n(3),f=i(c),h=n(4),_=n(5),v=i(_),y=n(6),g=i(y),w=n(7),S=i(w),b=n(8),m=i(b),M=n(9),T=i(M),C=n(10)("transform"),O={left:0,center:.5,right:1},Slider=function(e){function Slider(){var e,t,n,i;o(this,Slider);for(var r=arguments.length,u=Array(r),a=0;r>a;a++)u[a]=arguments[a];return t=n=s(this,(e=Object.getPrototypeOf(Slider)).call.apply(e,[this].concat(u))),n._node=null,n._sliderWidth=0,n._slideCount=p.Children.count(n.props.children),n._frameWidth=100/n._slideCount,n._slideWidth=n._frameWidth/n.props.slidesToShow,n._trackWidth=n._slideCount/n.props.slidesToShow*100,n._deltaX=!1,n._deltaY=!1,n._startX=!1,n._startY=!1,n._isSwiping=!1,n._isFlick=!1,n.state={currentIndex:n.props.currentIndex,currentKey:n.props.currentKey,swipeOffset:0,instant:!1,wrapping:!1,height:0},n._beforeSlide=function(e,t){var i=n.props,r=i.beforeSlide,o=i.slidesToShow;r((0,m["default"])(e,e+o),(0,m["default"])(t,t+o)),n._isSliding=!0,n.forceUpdate()},n._afterSlide=function(){var e=n.props,t=e.afterSlide,i=e.slidesToShow,r=n.state.currentIndex;t((0,m["default"])(r,r+i)),n._isSliding=!1,n.forceUpdate()},n._onSwipeStart=function(e){var t=e.touches&&e.touches[0]||e;n._isSwiping=!0,n._deltaX=n._deltaY=0,n._startX=t.pageX,n._startY=t.pageY,n._isFlick=!0,setTimeout(function(){n._isFlick=!1},n.props.flickTimeout)},n._onSwipeMove=function(e){if(n._isSwiping){var t=n.props,i=t.vertical,r=t.swipeThreshold,o=t.slidesToMove,s=e.touches&&e.touches[0]||e;if(n._deltaX=n._startX-s.pageX,n._deltaY=n._startY-s.pageY,n._isSwipe(r)){e.preventDefault(),e.stopPropagation();var u=i?n._deltaY:n._deltaX,a=i?n.sliderHeight:n._sliderWidth;n.setState({swipeOffset:u/a*o,instant:!0})}}},n._onSwipeEnd=function(){var e=n.props.swipeThreshold,t=n._isFlick?e:n._sliderWidth*e;n.setState({swipeOffset:0,instant:!1},function(){n._isSwipe(t)&&(n._deltaX<0?n.prev():n.next())}),n._isSwiping=!1},n._onSwipePast=function(){n._isSwiping&&n._onSwipeEnd()},n._setSlideHeight=function(e){n.setState({height:e})},n._onSlideEnd=function(){n.setState({instant:!1,wrapping:!1}),n._isSliding=!1},i=t,s(n,i)}return u(Slider,e),l(Slider,[{key:"componentWillMount",value:function(){var e=this.props,t=e.currentKey,n=e.currentIndex,i=e.children,r=null;if(t?r=(0,g["default"])(t,i):n&&(r=n),r){var o=Math.max(0,Math.min(r,this._slideCount-1));this.setState({currentIndex:o,currentKey:(0,S["default"])(o,i),instant:!0})}}},{key:"componentDidMount",value:function(){this._node=f["default"].findDOMNode(this),this._getSliderDimensions(),this._onChange(this.state.currentIndex,this.props.slidesToShow)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.currentKey,i=e.currentIndex,r=e.slidesToShow,o=e.align,s=e.children;this._slideCount=p.Children.count(s),this._frameWidth=100/this._slideCount,this._slideWidth=this._frameWidth/r,this._trackWidth=100*this._slideCount/r;var u=this.props.currentKey!==n&&this.state.currentKey!==n,a=this.props.currentIndex!==i&&this.state.currentIndex!==i;u||a?!function(){var e=null;u?e=(0,g["default"])(n,s):a&&(e=i),"left"===o&&e!==t.state.currentIndex||(e=Math.max(0,Math.min(e,t._slideCount-1))),t._beforeSlide(t.state.currentIndex,e),t.setState({currentIndex:e,currentKey:(0,S["default"])(e,s)},function(){t._onChange(e,r)})}():this.props.slidesToShow!==r&&this._onChange(this.state.currentIndex,r),p.Children.count(this.props.children)!==p.Children.count(s)&&this.setState({instant:!0})}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.swipeOffset,n=e.instant,i=e.wrapping;0===t&&(n||i)&&this._onSlideEnd()}},{key:"prev",value:function(){this.slide(-1)}},{key:"next",value:function(){this.slide(1)}},{key:"slide",value:function(e){var t=this,n=this.state.currentIndex,i=p.Children.toArray(this.props.children),r={},o=n;if(o+="left"===this.props.align?this._getSlidesToMove(n,e):e,this.props.infinite)o=(0,T["default"])(o,this._slideCount),n===this._slideCount-1&&0===o||0===n&&o===this._slideCount-1?(r.wrapping=!0,r.instant=!0):r.wrapping=!1;else if(!i[o])return;r.currentIndex=o,r.currentKey=(0,S["default"])(o,this.props.children),this._beforeSlide(n,o),this.setState(r,function(){t._onChange(o,t.props.slidesToShow)})}},{key:"_getSliderDimensions",value:function(){this._sliderWidth=this._node.offsetWidth,this._sliderHeight=this._node.offsetHeight}},{key:"_getSlidesToMove",value:function(e,t){var n=this.props,i=n.slidesToShow,r=n.slidesToMove,o=1===t?this._slideCount-(e+i):e;return Math.min(o,r)*t}},{key:"_onChange",value:function(e,t){var n=(0,m["default"])(e,e+t);this.props.onChange(n,this.state.currentKey)}},{key:"_isSwipe",value:function(e){var t=this._deltaX,n=this._deltaY;if(this.props.vertical){var i=[t,n];n=i[0],t=i[1]}return Math.abs(t)>Math.max(e,Math.abs(n))}},{key:"_getSwipeEvents",value:function(){var e=this.props.swipe,t={};return e!==!0&&"mouse"!==e||(t={onMouseDown:this._onSwipeStart,onMouseMove:this._onSwipeMove,onMouseUp:this._onSwipeEnd,onMouseLeave:this._onSwipePast}),e!==!0&&"touch"!==e||(t=a({},t,{onTouchStart:this._onSwipeStart,onTouchMove:this._onSwipeMove,onTouchEnd:this._onSwipeEnd})),t}},{key:"_getDestValue",value:function(){var e=this.state,t=e.currentIndex,n=e.wrapping,i=e.swipeOffset,r=O[this.props.align],o=(this._frameWidth-this._slideWidth)*r,s=this._frameWidth/this._slideWidth*o,u=this._frameWidth*(t+i)-s;return n&&(0===t&&(u-=this._frameWidth),t===this._slideCount-1&&(u+=this._frameWidth)),-1*u}},{key:"_getSliderClassNames",value:function(){var e=this.props.swipe,t=[],n="slider";return this._isSliding&&t.push("is-sliding"),e&&t.push("is-swipeable"),this._isSwiping&&t.push("is-swiping"),n+=t.map(function(e){return" "+n+"--"+e}).join("")}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.springConfig,o=t.autoHeight,s=t.infinite,u=this.state,l=u.currentIndex,c=(u.lastIndex,u.instant),f=u.height,_=this._getDestValue();return d["default"].createElement(h.Motion,{style:{translate:c?_:(0,h.spring)(_,i),wrapperHeight:c?f:(0,h.spring)(f,i)},onRest:this._afterSlide},function(t){var i=t.translate,u=t.wrapperHeight;return e._currentTween=i,d["default"].createElement("div",{className:e._getSliderClassNames()},d["default"].createElement("div",a({className:"slider__track",style:r({width:e._trackWidth+"%",height:o&&u},C,"translate3d("+i+"%, 0, 0)")},e._getSwipeEvents()),p.Children.map(n,function(t,n){var i={width:e._slideWidth+"%"};return s&&(0===l&&n===e._slideCount-1&&(i=a({},i,{position:"relative",left:"-100%"})),l===e._slideCount-1&&0===n&&(i=a({},i,{position:"relative",right:"-100%"}))),(0,p.createElement)(v["default"],{style:i,isCurrent:l===n,onSlideHeight:e._setSlideHeight},t)})))})}}]),Slider}(p.Component);Slider.propTypes={currentKey:p.PropTypes.any,currentIndex:p.PropTypes.number,slidesToShow:p.PropTypes.number,slidesToMove:p.PropTypes.number,infinite:p.PropTypes.bool,vertical:p.PropTypes.bool,autoHeight:p.PropTypes.bool,align:p.PropTypes.oneOf(["left","center","right"]),swipe:p.PropTypes.oneOf([!0,!1,"mouse","touch"]),swipeThreshold:p.PropTypes.number,flickTimeout:p.PropTypes.number,springConfig:d["default"].PropTypes.objectOf(d["default"].PropTypes.number),beforeSlide:p.PropTypes.func,afterSlide:p.PropTypes.func},Slider.defaultProps={currentKey:null,currentIndex:0,slidesToShow:1,slidesToMove:1,infinite:!1,vertical:!1,autoHeight:!1,align:"left",swipe:!0,swipeThreshold:.5,flickTimeout:300,springConfig:h.presets.noWobble,onChange:function(){return null},beforeSlide:function(){return null},afterSlide:function(){return null}},t["default"]=Slider},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),l=(i(a),n(3)),p=i(l),d=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this._node=p["default"].findDOMNode(this),this._getDimensions(),this.props.isCurrent&&this._onHeightChange()}},{key:"componentDidUpdate",value:function(e){var t=this.props.isCurrent;e.isCurrent!==t&&t===!0&&this._onHeightChange()}},{key:"_getDimensions",value:function(){this._width=this._node.offsetWidth,this._height=this._node.offsetHeight}},{key:"_onHeightChange",value:function(){this.props.onSlideHeight(this._height)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.style;return(0,a.cloneElement)(a.Children.only(t),{style:n})}}]),t}(a.Component);t["default"]=d},function(e,t,n){"use strict";function i(e,t){var n=null;return r.Children.forEach(t,function(t,i){return t.key===e?void(n=i):void 0}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var r=n(2)},function(e,t,n){"use strict";function i(e,t){var n=null;return r.Children.forEach(t,function(t,i){return e===i?void(n=t.key):void 0}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var r=n(2)},function(e,t){"use strict";function n(e,t){var n=[];if(e===t)return[e];for(var i=e;t>i;i++)n.push(i);return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e,t){return 0>e?(e%t+t)%t:e%t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){if("undefined"==typeof document)return e;var t=document.createElement("p").style,n=["ms","O","Moz","Webkit"];if(""===t[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var i=n.length;i--;)if(""===t[n[i]+e])return n[i]+e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}])});