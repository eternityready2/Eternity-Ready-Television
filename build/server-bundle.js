!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){"use strict";global.__SERVER__=!0;var a=process.env.PORT||3e3,r=n(98).default;r.listen(a,function(){}),process.on("unhandledRejection",function(e,t){console.log("Possibly Unhandled Rejection at: Promise ",t," reason: ",e)})},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("babel-runtime/helpers/inherits")},function(e,t){e.exports=require("babel-runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("react-redux")},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments[1];switch(t.type){case S:return C.default.remove("auth/token",{path:"/"}),C.default.remove("auth/user",{path:"/"}),(0,_.default)({},e,{errorMessage:"",user:null,token:"",isAuthenticated:!1});case M:return C.default.save("auth/token",t.result.token,{path:"/"}),t.result.user&&C.default.save("auth/user",t.result.user,{path:"/"}),(0,_.default)({},e,{loginErrorMessage:"",isAuthenticated:!0,user:t.result.user,token:t.result.token});case P:return C.default.remove("auth/token",{path:"/"}),C.default.remove("auth/user",{path:"/"}),(0,_.default)({},e,{isAuthenticated:!1,user:null,token:""});case x:return(0,_.default)({},e,{errorMessage:"",successMessage:""});case O:return(0,_.default)({},e,{errorMessage:t.message||(t.result||{}).message||"Ups!"});case N:return(0,_.default)({},e,{successMessage:t.message||(t.result||{}).message});case R:return k.setItem("auth/donateCounter",D),(0,_.default)({},e,{donateModalCounter:D});case j:return k.setItem("auth/donateCounter",e.donateModalCounter-1),(0,_.default)({},e,{donateModalCounter:e.donateModalCounter-1});case A:return(0,_.default)({},e,{page:t.page});default:return e}}function s(e){var t=e.email,n=e.password;return{types:[S,M,O],promise:function(e){return e.post("/api/user/authenticate",{data:{email:t,password:n}})}}}function l(e){var t=e.user,n=e.token;return{type:M,result:{user:t,token:n}}}function o(e){var t=e.email,n=e.password;return{types:[x,N,O],promise:function(e){return e.post("/api/user/signup",{data:{email:t,password:n}})}}}function i(e){return{types:[x,N,O],promise:function(t){return t.post("/api/user/send-forgot-password-email",{data:{email:e}})}}}function u(e){var t=e.password;return{types:[x,N,O],promise:function(e){return e.post("/api/user/change-password",{data:{password:t}})}}}function d(e){var t=e.token,n=e.password;return{types:[x,N,O],promise:function(e){return e.post("/api/user/reset-password",{data:{token:t,password:n}})}}}function c(){return{type:x}}function f(){return{type:P}}function p(){return{type:R}}function m(){return{type:j}}function h(e){return{types:[T,T,O],promise:function(t){return t.post("/api/user/create-user",{data:e})}}}function g(e){return{types:[T,T,O],promise:function(t){return t.post("/api/user/update-user",{data:e})}}}function v(e){return{types:[T,T,O],promise:function(t){return t.get("/api/user/list",{params:e})}}}function y(e){return{types:[T,T,O],restaurantId:e.id,promise:function(t){return t.get("/api/user/delete",{params:e})}}}function E(e){return{type:A,page:e}}Object.defineProperty(t,"__esModule",{value:!0});var w=n(9),_=a(w);t.default=r,t.authenticate=s,t.loginSuccess=l,t.signup=o,t.sendForgotPasswordEmail=i,t.changePassword=u,t.resetPassword=d,t.clearMessages=c,t.logout=f,t.resetDonateCounter=p,t.decrementDonateCounter=m,t.createUser=h,t.updateUser=g,t.getUsers=v,t.deleteUser=y,t.setPage=E;var b=n(31),C=a(b);if("undefined"==typeof window||null===window)var k={getItem:function(){},setItem:function(){},removeItem:function(){}};else var k=window.localStorage;var S="auth/AUTHENTICATE_REQUEST",M="auth/AUTHENTICATE_SUCCESS",P="LOGOUT",N="auth/SHOW_SUCCESS",O="auth/SHOW_ERROR",T="auth/IGNORE_ACTION",x="auth/CLEAR_MESSAGES",R="auth/RESET_DONATE_MODAL_COUNTER",j="auth/DECREMENT_DONATE_MODAL_COUNTER",A="auth/SET_PAGE",D=2,U=-1;k.getItem("auth/donateCounter")&&(U=parseInt(k.getItem("auth/donateCounter"))),U=Math.min(U,D);var L={token:C.default.load("auth/token"),user:C.default.load("auth/user"),isAuthenticated:!!C.default.load("auth/token"),errorMessage:"",successMessage:"",donateModalCounter:U,page:""}},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t,n){"use strict";var a=n(19),r="production",s=process.env.MONGODB_URI?process.env.MONGODB_URI.trim():"",l={env:r,JWT_SECRET_KEY:"l)oc8e#^vg7d7la$rr3nwlt=^f82y6c9h%yemm=maxy)roiwcc",MAIL_PROVIDER:"mailgun",MONGO_URL:s||"mongodb://localhost/eternity-ready",WEPAPP_URI:"http://raptureready.tv"},o=a.merge(l,n(126)("./"+r+".js")||{});console.log("Loaded configuration '%s'...",o.env),e.exports=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments[1];switch(t.type){case E:return y.default.remove("admin/auth/token",{path:"/"}),y.default.remove("admin/auth/user",{path:"/"}),(0,g.default)({},e,{errorMessage:"",successMessage:"",user:null,token:"",isAuthenticated:!1});case w:return y.default.save("admin/auth/token",t.result.token,{path:"/"}),t.result.user&&y.default.save("admin/auth/user",t.result.user,{path:"/"}),(0,g.default)({},e,{errorMessage:"",isAuthenticated:!0,user:t.result.user,token:t.result.token});case _:return console.log("remove cookieee","admin/auth/token"),y.default.remove("admin/auth/token",{path:"/"}),y.default.remove("admin/auth/user",{path:"/"}),(0,g.default)({},e,{isAuthenticated:!1,user:null,token:""});case S:return(0,g.default)({},e,{errorMessage:"",successMessage:""});case C:return(0,g.default)({},e,{errorMessage:t.message||(t.result||{}).message||"Ups!"});case b:return(0,g.default)({},e,{successMessage:t.message||(t.result||{}).message});case M:return(0,g.default)({},e,{successMessage:"",errorMessage:"",channels:[],fetchingChannels:!0});case P:return(0,g.default)({},e,{fetchingChannels:!1,channels:t.result.channels||[]});case N:return(0,g.default)({},e,{fetchingChannels:!1,errorMessage:t.message||(t.result||{}).message||"Ups!"});default:return e}}function s(e){var t=e.email,n=e.password;return{types:[E,w,C],promise:function(e){return e.post("/api/admin/authenticate",{data:{email:t,password:n}})}}}function l(){return{type:_}}function o(e){return{types:[S,b,C],promise:function(t){return t.post("/api/admin/create-user",{data:e})}}}function i(e){return{types:[S,b,C],promise:function(t){return t.post("/api/admin/update-user",{data:e})}}}function u(e){return{types:[k,k,C],promise:function(t){return t.get("/api/admin/list",{params:e})}}}function d(e){return{types:[S,b,C],restaurantId:e.id,promise:function(t){return t.get("/api/admin/delete",{params:e})}}}function c(e){return{types:[S,b,C],promise:function(t){return t.post("/api/admin/change-password",{data:e})}}}function f(){return{type:S}}function p(e){return{type:C,message:e}}function m(e){return e=e||{},{types:[M,P,N],promise:function(t){return t.get("/api/admin/get-channels",{params:e})}}}Object.defineProperty(t,"__esModule",{value:!0});var h=n(9),g=a(h);t.default=r,t.authenticate=s,t.logout=l,t.createUser=o,t.updateUser=i,t.getUsers=u,t.deleteUser=d,t.changePassword=c,t.clearMessages=f,t.showErrorMessage=p,t.getChannels=m;var v=n(31),y=a(v);if("undefined"==typeof window||null===window);else{window.localStorage}var E="admin/auth/AUTHENTICATE_REQUEST",w="admin/auth/AUTHENTICATE_SUCCESS",_="LOGOUT",b="admin/auth/SHOW_SUCCESS",C="admin/auth/SHOW_ERROR",k="admin/auth/IGNORE_ACTION",S="admin/auth/CLEAR_MESSAGES",M="admin/FETCH_CHANNELS_REQUEST",P="admin/FETCH_CHANNELS_SUCCESS",N="admin/FETCH_CHANNELS_FAIL",O={token:y.default.load("admin/auth/token"),user:y.default.load("admin/auth/user"),isAuthenticated:!!y.default.load("admin/auth/token"),errorMessage:"",successMessage:"",channels:[],fetchingChannels:!1}},function(e,t){e.exports=require("babel-runtime/helpers/defineProperty")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("redux-connect")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"/watch/"+e._id}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.thumb||"/uploads/"+e.picture}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments[1];switch(t.type){case c:return(0,d.default)({},e,{isFetching:!0,errorMessage:"",channels:[],categories:[]});case f:return(0,d.default)({},e,{isFetching:!1,channels:t.result.channels,categories:t.result.categories});case p:return(0,d.default)({},e,{isFetching:!1,errorMessage:(t.result||{}).message});case m:return(0,d.default)({},e,{isFetchingChannel:!0,errorMessage:"",channel:null});case h:return(0,d.default)({},e,{isFetchingChannel:!1,channel:t.result.channel});case g:return(0,d.default)({},e,{isFetchingChannel:!1,errorMessage:(t.result||{}).message});case v:return(0,d.default)({},e,{isFetchingSearchResults:!0,searchResults:[],errorMessage:"",relatedTitles:[]});case y:var n=t.result.channels,a=n.length-5;return a>=5?a=5:a<3&&(a=0),a=n.length-a,(0,d.default)({},e,{isFetchingSearchResults:!1,searchResults:n.filter(function(e,t,n){return t<a}),relatedTitles:n.filter(function(e,t,n){return t>=a})});case E:return(0,d.default)({},e,{isFetchingSearchResults:!1,errorMessage:(t.result||{}).message});default:return e}}function s(){return{types:[c,f,p],promise:function(e){return e.get("/api/channels/categories",{})}}}function l(e){return{types:[m,h,g],promise:function(t){return t.get("/api/channels/get",{params:{id:e}})}}}function o(e){return{types:[w,w,w],promise:function(t){return t.get("/api/channels/add-view",{params:{id:e}})}}}function i(e){return{types:[v,y,E],promise:function(t){return t.get("/api/channels/",{params:{q:e}})}}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),d=a(u);t.default=r,t.listCategories=s,t.fetchChannel=l,t.addView=o,t.search=i;var c="channels/LIST_CHANNELS_REQUEST",f="channels/LIST_CHANNELS_SUCCESS",p="channels/LIST_CHANNELS_FAIL",m="channels/FETCH_CHANNEL_REQUEST",h="channels/FETCH_CHANNEL_SUCCESS",g="channels/FETCH_CHANNEL_FAIL",v="channels/SEARCH_REQUESTS",y="channels/SEARCH_SUCCESS",E="channels/SEARCH_FAIL",w="channels/IGNORE_ACTION",_={isFetching:!1,channels:[],categories:[],errorMessage:"",isFetchingChannel:!1,channel:null,isFetchingSearchResults:!1,searchResults:[],relatedTitles:[]}},function(e,t,n){e.exports=n.p+"ee619ab22c4cca7ae28fa7fc2a60e4e2.png"},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("react-fontawesome")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("validator")},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(118),h=(a(m),function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return p.default.createElement("div",{className:"Loader"},p.default.createElement("img",{src:n(125)}))}}]),t}(f.Component));t.default=h},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendValidationEmail=t.sendForgotPasswordEmail=void 0;var s=n(10),l=r(s),o=n(97),i=a(o),u=n(96),d=a(u),c="nodemailer"===l.default.MAIL_PROVIDER?i:d;t.sendForgotPasswordEmail=c.sendForgotPasswordEmail,t.sendValidationEmail=c.sendValidationEmail},function(e,t,n){"use strict";function a(e,t){return new Promise(function(n,a){r.genSalt(10,function(s,l){return s?(t&&t(s),a(s)):void r.hash(e,l,null,function(e,r){return e?(t&&t(e),a(e)):(n(r),void(t&&t(null,r)))})})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getHashPassword=a;var r=n(29)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),r=n(20),s=(n(29),r.Schema),l=new s({username:{type:String,unique:!0,required:!0},password:{type:String},email:{type:String},name:{type:String},avatar:{type:String},auth:{id:{type:String,index:!0},provider:{type:String,index:!0},accessToken:{type:String},refreshToken:{type:String}},isAdmin:{type:Boolean},validated:{type:Boolean},validationToken:{type:String},forgotPasswordToken:{type:String},suspended:{type:Boolean}});l.pre("save",function(e){var t=this;return t.password&&(this.isModified("password")||this.isNew)?void(0,a.getHashPassword)(t.password,function(n,a){return n?e(n):(t.password=a,void e())}):e()}),l.methods.comparePassword=function(e){return new Promise(function(e,t){e(!0)})};var o=r.model("User",l);t.default=o},function(e,t){e.exports=require("bcrypt-nodejs")},function(e,t){e.exports=require("jwt-simple")},function(e,t){e.exports=require("react-cookie")},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("react-modal")},function(e,t){e.exports=require("uuid/v4")},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=function(e){function t(){var e,n,a,r;(0,s.default)(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onQueryChange=function(e){a.props.onQueryChange(e.target.value)},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return p.default.createElement("div",null,p.default.createElement("input",{className:"form-control input",value:this.props.query,onChange:this.onQueryChange,placeholder:"Search",type:"text"}))}}]),t}(f.Component);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=(n(6),n(24)),g=(a(h),n(8)),v=n(74),y=a(v),E=n(75),w=a(E);n(115);var _=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.route.path;this.props.clearMessages(),"/change-password"!=e&&this.props.logout()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e="/change-password"===this.props.route.path,t=(this.props.params||{}).token;return p.default.createElement("div",{className:"forgot-passowrd-wrapper"},e===!1&&!t&&p.default.createElement(y.default,null),(e===!0||t)&&p.default.createElement(w.default,{token:t,isChangePassword:e}))}}]),t}(f.Component),b=function(e){return{clearMessages:function(t){e((0,g.clearMessages)(t))},logout:function(){e((0,g.logout)())}}},C=function(e){return{}};t.default=(0,m.connect)(C,b)(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(6),g=n(138),v=a(g),y=n(120),E=(a(y),function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.activateSearch=function(){return n.setState({isActive:!0},function(){n._input.focus()}),!1},n.clearSearch=function(){n.setState({isActive:!1,query:""},function(){}),n._input.value="",h.browserHistory.push("/browse")},n.updateSearch=function(e){console.log((new Date).getTime(),n.state.query),null!==n.state.query&&""!==n.state.query&&n.state.isActive?h.browserHistory.push("/search/"+n.state.query):h.browserHistory.push("/browse")},n.handleChange=function(e){n.setState({query:e.target.value},function(){}),""===e.target.value&&h.browserHistory.push("/browse")},n.state={query:"",isActive:!1},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t={display:this.state.isActive?"none":"block"},n={display:this.state.isActive?"block":"none"},a=this.state.isActive?"active":"inactive";return p.default.createElement("div",{className:"search-input"},p.default.createElement("button",{id:"search-en",onClick:this.activateSearch,style:t,ref:"label"},"Search"),p.default.createElement("input",{type:"text",id:"inpsearch",className:a,placeholder:"Search...",onKeyUp:(0,v.default)(this.updateSearch,500),onChange:this.handleChange,value:this.state.query,ref:function(t){return e._input=t}}),p.default.createElement("span",{style:n,id:"closesearch",onClick:this.clearSearch,ref:"close"},"x"))}}]),t}(f.Component));E.defaultProps={query:"",isActive:!1},E.PropTypes={query:f.PropTypes.string.isRequired,isActive:f.PropTypes.bool.isRequired};var w=function(e,t){return{query:"",isActive:!1}};t.default=(0,m.connect)(w,{})(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),l=n(6),o=n(16),i=a(o),u=n(15),d=a(u),c=s.default.createClass({displayName:"ItemDetails",componentDidMount:function(){this.checkScroll()},componentWillReceiveProps:function(e){if(this.props.activeSlide!==e.activeSlide){this.refs.detailsContent.classList.add("reflow");var t=this;setTimeout(function(){t.refs.detailsContent.classList.remove("reflow")},100)}},checkScroll:function(){},render:function(){var e="slider-item-details";e+=this.props.activeSlide?" slider-item-details-active":" slider-item-details-inactive";var t=this.props.sliderHeight/4-12,n={transform:"translateY(-"+t+"px)"},a=(0,i.default)(this.props.activeSlide),r=(0,d.default)(this.props.activeSlide);return s.default.createElement("div",{className:"slider-item-details-container",ref:"details",style:n},s.default.createElement("div",{className:e,ref:"detailsContent"},s.default.createElement("div",{className:"slider-details-left"},s.default.createElement("h2",null,this.props.activeSlide?this.props.activeSlide.title:""),s.default.createElement("span",{className:"stars"},this.props.activeSlide&&"★".repeat(this.props.activeSlide.rating)),this.props.activeSlide&&this.props.activeSlide.age?s.default.createElement("span",{className:"slider-details-age"},this.props.activeSlide?this.props.activeSlide.age:""):"",s.default.createElement("span",{className:"year"},this.props.activeSlide?this.props.activeSlide.year:""),s.default.createElement("span",{className:"slider-details-info"},this.props.activeSlide?this.props.activeSlide.description:"")),s.default.createElement("div",{className:"slider-details-right"},this.props.activeSlide?s.default.createElement("img",{src:a,className:"slider-details-image",role:"presentation"}):"",s.default.createElement("div",{className:"slider-item-details-close",onClick:this.props.closeDetails},"x"),s.default.createElement("div",{className:"gradient"}),s.default.createElement(l.Link,{to:r},s.default.createElement("div",{className:"play"})))))}});t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return e}function s(){return!1}Object.defineProperty(t,"__esModule",{value:!0});var l=n(129),o=(a(l),n(1)),i=a(o),u=n(84),d=a(u),c=n(38),f=a(c),p=n(145),m=a(p),h=.8,g=i.default.createClass({displayName:"Slider",getInitialState:function(){return{trackPosition:0,activeSlide:null,goingNext:!1,goingPrev:!1,sliderHeight:180,indexModifier:0,preparePrev:!1,mouseDown:!1,detailsSlide:null,sliderHovered:!1,isTouch:s(),items:r(this.props.items).concat(r(this.props.items))}},componentDidMount:function(){window.addEventListener("resize",this.reInit);var e=this;setTimeout(function(){e.reInit()},0)},componentWillReceiveProps:function(e){var t=r(e.items).concat(r(e.items));this.setState({items:t})},componentWillUnmount:function(){window.removeEventListener("resize",this.reInit)},reInit:function(){var e=this,t=this.refs.track;if(t){var n=m.default.Observable.fromEvent(t,"touchstart"),a=m.default.Observable.fromEvent(t,"touchmove"),r=m.default.Observable.fromEvent(t,"touchend"),l=n.selectMany(function(e){var t=e.touches[0].clientX;return a.takeUntil(r).select(function(e){return e.preventDefault(),e.touches[0].clientX-t>70&&(t=e.touches[0].clientX),{delta:e.touches[0].clientX-t}})});l.subscribe(function(t){var n=t.delta;e.state.goingNext||e.state.goingPrev||e.state.preparePrev||(n>30&&(e.state.goingPrev||e.setState({mouseDown:!1},function(){e.goToPrev()})),n<-30&&(e.state.goingNext||e.setState({mouseDown:!1},function(){e.goToNext()})))}),this.setState({isTouch:s(),sliderWidth:document.body.getBoundingClientRect().width})}},setSliderHeight:function(e){this.setState({sliderHeight:1.1*e})},setSliderHover:function(){this.setState({sliderHovered:!0})},removeSliderHover:function(){this.setState({sliderHovered:!1})},setActiveSlide:function(e){this.setState({activeSlide:e})},setDetailsSlide:function(e,t){this.setState({activeSlide:null,detailsSlide:e,selectedSlide:t})},setVisibleItems:function(e){this.setState({visibleItems:e})},closeDetails:function(){this.setState({detailsSlide:null})},goToNext:function(){if(!this.state.goingNext){var e=this;this.setState({goingNext:!0},function(){for(var t=e.state.items,n=0;n<e.state.visibleItems;n++)t.push(t.shift());var a=1e3*h+10;setTimeout(function(){e.setState({goingNext:!1,items:t,indexModifier:1})},a)})}},goToPrev:function(){if(!this.state.goingPrev){for(var e=this,t=e.state.items,n=0;n<e.state.visibleItems;n++){var a=t[t.length-1];t.pop(a),t.unshift(a)}this.setState({preparePrev:!0,items:t,goingPrev:!1},function(){setTimeout(function(){e.setState({preparePrev:!1,goingPrev:!0},function(){var t=1e3*h+10;setTimeout(function(){e.setState({goingPrev:!1,indexModifier:1})},t)})},0)})}},showPrev:function(){return!(!this.state.indexModifier||!this.state.sliderHovered||this.state.isTouch)},showNext:function(){return!(!this.state.sliderHovered||this.state.isTouch)},render:function(){if(!this.state.items)return!1;var e,t=this,n=this.state.items.map(function(e,n){return i.default.createElement(d.default,{key:"item_"+(n-t.state.indexModifier),item:e,setSliderHeight:t.setSliderHeight,sliderWidth:t.state.sliderWidth,setActiveSlide:t.setActiveSlide,detailsSlide:t.state.detailsSlide,selectedSlide:t.state.selectedSlide,setDetailsSlide:t.setDetailsSlide,activeSlide:t.state.activeSlide,index:n-t.state.indexModifier,setVisibleItems:t.setVisibleItems,moving:t.state.goingNext||t.state.goingPrev,isTouch:t.state.isTouch})}),a={height:this.state.sliderHeight+"px"};return this.state.goingNext&&!this.state.goingPrev?e={transition:"all "+h+"s",transform:"translateX(-"+(100+100/this.state.visibleItems)+"%)",WebkitTransitionTimingFunction:"cubic-bezier(0.5, 0, 0.1, 1)"}:this.state.goingNext||this.state.goingPrev||!this.state.preparePrev?this.state.goingNext||!this.state.goingPrev||this.state.preparePrev?this.state.goingNext||(e={transform:0===this.state.indexModifier?"translateX(0%)":"translateX(-"+100/this.state.visibleItems+"%)",transition:"none"}):e={transition:"all "+h+"s",transform:"translateX(-"+100/this.state.visibleItems+"%)",WebkitTransitionTimingFunction:"cubic-bezier(0.5, 0, 0.1, 1)"}:e={transition:"none",transform:"translateX(-"+(100+100/this.state.visibleItems)+"%)"},i.default.createElement("div",null,i.default.createElement("div",{className:"slider-container",ref:"container",style:a},i.default.createElement("span",{className:"slider-title"},this.props.sliderTitle.toUpperCase()),i.default.createElement("div",{className:"carousel",ref:"carousel",style:a,onMouseEnter:this.setSliderHover,onMouseLeave:this.removeSliderHover},i.default.createElement("div",{className:"carousel-track",ref:"track",style:e},n),this.showNext()?i.default.createElement("div",{className:"next",onClick:this.goToNext}):"",this.showPrev()?i.default.createElement("div",{className:"prev",onClick:this.goToPrev}):"")),this.state.detailsSlide?i.default.createElement(f.default,{key:"item_details_"+this.props.index,sliderHeight:this.state.sliderHeight,activeSlide:this.state.detailsSlide,closeDetails:this.closeDetails}):"")}});t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(22),g=a(h),v=n(8),y=n(6);n(122);var E=function(e){function t(){var e,n,a,r;(0,s.default)(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.oauthHandler=function(e){e.success===!0&&(a.props.loginSuccess(e),y.browserHistory.push("/browse"))},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){window.oauthHandler=this.oauthHandler}},{key:"render",value:function(){var e="Sign in";return this.props.signup===!0&&(e="Sign up"),p.default.createElement("div",null,p.default.createElement("div",{className:"socia-signups"},p.default.createElement("a",{className:"btn btn-default btn-facebook btn-social btn-block",onClick:function(){window.open("/auth/facebook")}},p.default.createElement(g.default,{name:"facebook"})," ",e," with Facebook"),p.default.createElement("a",{className:"btn btn-default btn-twitter btn-social btn-block",onClick:function(){window.open("/auth/twitter")}},p.default.createElement(g.default,{name:"twitter"})," ",e," with Twitter")),p.default.createElement("div",{className:"or-line"},p.default.createElement("span",{className:"or-line-text"},"OR")))}}]),t}(f.Component),w=function(e){return{}},_=function(e){return{loginSuccess:function(t){return e((0,v.loginSuccess)(t))}}};t.default=(0,m.connect)(w,_)(E)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(__currentRequestUserAgent__.source.isMobile)return!0;var e=__currentRequestUserAgent__.source;return!(!e||!(e.match(/Android/i)||e.match(/webOS/i)||e.match(/iPhone/i)||e.match(/iPad/i)||e.match(/iPod/i)||e.match(/BlackBerry/i)||e.match(/Windows Phone/i)||e.match(/Nokia/i)))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(r){if("function"==typeof r)return r(n,a);var s=r.promise,o=r.types,u=(0,d.default)(r,["promise","types"]);if(!s)return t(r);var c=(0,i.default)(o,3),f=c[0],p=c[1],m=c[2];t((0,l.default)({},u,{type:f}));var h=s(e);return h.then(function(e){t(e.success===!0?(0,l.default)({},u,{result:e,type:p}):(0,l.default)({},u,{result:e,type:m}))},function(e){return 401===e.status?t((0,l.default)({},u,{error:e,type:"LOGOUT"})):void t((0,l.default)({},u,{error:e,type:m}))}).catch(function(e){console.error("MIDDLEWARE ERROR:",e),t((0,l.default)({},u,{error:e,type:m}))}),h}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),l=a(s),o=n(128),i=a(o),u=n(127),d=a(u);t.default=r;n(6)},function(e,t,n){"use strict";var a=n(20),r=a.Schema,s=new r({uniqueId:{type:String,unique:!0},slug:{type:String},channelNumber:{type:Number},title:{type:String},description:{type:String},thumb:{type:String},categories:[{type:r.Types.ObjectId,ref:"Category"}],rating:{type:Number},age:{type:String},picture:{},type:{type:String},embedCode:{type:String},fix:{type:Boolean},thumbnail:{},comment:{type:String},media:{},disabled:{type:Boolean},views:{type:Number}}),l=a.model("Channel",s);e.exports=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var a=o.default.WEPAPP_URI+"/forgot-password/"+n,r='\n     Hi!<br>\n     You recently requested to reset your password for your account.\n     Click here to reset it: <br /><a href="'+a+'">'+a+"</a><br />\n     If you did not request a password reset, please ignore this email ",s={from:e,to:t,subject:"Reset Password",html:r,text:r};return s}function s(e,t,n){var a=o.default.WEPAPP_URI+"/api/user/validate?token="+n,r="\n        Hi!<br/>\n        Thanks for registering. To activate your email address click the link below!\n        <br/><br/>\n        Activation Link: <a href='"+a+"'>"+a+"</a> ",s={from:e,to:t,subject:"Registration",html:r,text:r};return s}Object.defineProperty(t,"__esModule",{value:!0}),t.forgotEmail=r,t.validationEmail=s;var l=n(10),o=a(l)},function(e,t,n){e.exports=n.p+"ce6e27d96021940aa8e76f72506298bc.svg"},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("redux-logger")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=(n(7),n(101)),h=(a(m),n(102)),g=(a(h),n(103)),v=(a(g),n(55)),y=a(v),E=n(53),w=a(E),_=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return p.default.createElement("div",null,p.default.createElement(y.default,null),this.props.children,p.default.createElement(w.default,null))}}]),t}(f.Component);t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(22),g=(a(h),n(6),n(35)),v=a(g),y=n(11),E=function(e){function t(e){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.channel,t={backgroundColor:"white"};return p.default.createElement("tr",{className:"user-row",style:t},p.default.createElement("td",{className:"td-index"},p.default.createElement("span",{style:{color:"rgb(115, 115, 115)",fontSize:18}},e.index)),p.default.createElement("td",{className:"td-name"},p.default.createElement("div",null,e.title)),p.default.createElement("td",null,(e.categories||[]).map(function(e){return e.name}).join(" ")),p.default.createElement("td",null,e.views||0))}}]),t}(f.Component),w=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){for(var e=this.props.channels,t=0;t<e.length;t++)e[t].index=t+1;return p.default.createElement("div",{className:"users-table-wrapper"},!this.props.loading&&p.default.createElement("table",{className:"table"},p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",{className:"td-index"},"#"),p.default.createElement("th",null,"Title"),p.default.createElement("th",null,"Categories"),p.default.createElement("th",{onClick:this.props.onOrderChange,style:{cursor:"pointer"}},"Views"))),p.default.createElement("tbody",null,e.map(function(e){return p.default.createElement(E,{key:e._id,channel:e})}))),this.props.loading&&p.default.createElement("div",{className:"Loader"},p.default.createElement("img",{src:n(45)})))}}]),t}(f.Component),_=function(e){function t(){var e,n,a,r;(0,s.default)(this,t);
for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={channels:[],query:"",order:0},a.onQueryChange=function(e){a.setState({query:e}),a.updateChannels(null,e)},a.onOrderChange=function(){a.setState({order:1-a.state.order}),a.updateChannels(null,null,1-a.state.order)},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){this.props.getChannels()}},{key:"componentWillReceiveProps",value:function(e){this.state.channels!=e.channels&&this.updateChannels(e.channels)}},{key:"updateChannels",value:function(e,t,n){e||(e=this.props.channels),null!=t&&"undefined"!=typeof t||(t=this.state.query),null!=n&&"undefined"!=typeof n||(n=this.state.order),e=e.filter(function(e){var n=(e.categories||[]).map(function(e){return e.name}).join(" ").toLowerCase();return(e.title||"").toLowerCase().indexOf(t)>=0||n.indexOf(t)>=0}),1===n?e.sort(function(e,t){return(e.views||0)-(t.views||0)}):e.sort(function(e,t){return(t.views||0)-(e.views||0)}),this.setState({channels:e.filter(function(e){var n=(e.categories||[]).map(function(e){return e.name}).join(" ").toLowerCase();return(e.title||"").toLowerCase().indexOf(t)>=0||n.indexOf(t)>=0})})}},{key:"render",value:function(){return p.default.createElement("div",{className:"container admin",style:{marginTop:100}},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-12"},p.default.createElement("div",{style:{float:"right",marginBottom:20}},p.default.createElement(v.default,{query:this.state.query,onQueryChange:this.onQueryChange})))),p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-12"},p.default.createElement(w,{channels:this.state.channels,loading:this.props.loading,onOrderChange:this.onOrderChange}))))}}]),t}(f.Component),b=function(e){return{getChannels:function(t){return e((0,y.getChannels)(t))},clearMessages:function(){return e((0,y.clearMessages)())}}},C=function(e){return{channels:e.admin.channels,loading:e.admin.fetchingChannels}};t.default=(0,m.connect)(C,b)(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(32),h=a(m),g=n(104),v=(a(g),function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.setState({opened:!n.state.opened})},n.windowsClickHandler=function(e){var t=e.target,a=h.default.findDOMNode(n.refs.dropdown);a&&t!=a&&!a.contains(e.target)&&n.state.opened&&n.setState({opened:!1})},n.state={opened:!1},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){window.addEventListener("click",this.windowsClickHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.windowsClickHandler)}},{key:"render",value:function(){var e=p.default.cloneElement(this.props.title,{onClick:this.toggle}),t=this.props.items,n="content-ul";return this.props.smallDevice&&(n+=" small-device"),p.default.createElement("li",{style:{position:"relative"},ref:"dropdown"},e,this.state.opened&&p.default.createElement("ul",{className:n},t))}}]),t}(f.Component));t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(11),g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.errorMessage,n=e.successMessage,a={position:"fixed",bottom:0,padding:15,backgroundColor:"red",width:"100%",textAlign:"center",color:"white",fontSize:18,borderTop:"2px solid white",zIndex:1001,opacity:.7},r={float:"right",marginRight:10,cursor:"pointer"};!t&&n&&(a.backgroundColor="green");var s=t||n;return s?p.default.createElement("div",{style:a},s,p.default.createElement("div",{style:r,onClick:this.props.clearMessages},"X")):p.default.createElement("div",null)}}]),t}(f.Component),v=function(e){return{clearMessages:function(){return e((0,h.clearMessages)())}}},y=function(e){return{errorMessage:e.admin.errorMessage,successMessage:e.admin.successMessage}};t.default=(0,m.connect)(y,v)(g)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(6),g=n(11);n(105);var v=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={email:"",password:""},n.onEmailChange=n.onEmailChange.bind(n),n.onPasswordChange=n.onPasswordChange.bind(n),n.login=n.login.bind(n),n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){this.props.logout()}},{key:"componentWillReceiveProps",value:function(e){!this.props.isAuthenticated&&e.isAuthenticated&&h.browserHistory.push("/admin/")}},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value.trim()})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value.trim()})}},{key:"login",value:function(e){e.preventDefault(),this.props.authenticate({email:this.state.email,password:this.state.password})}},{key:"render",value:function(){var e=this;return p.default.createElement("div",{style:{backgroundColor:"#FFF",height:"100%"}},p.default.createElement("div",{className:"container"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-lg-12"},p.default.createElement("div",{className:"wrapper"},p.default.createElement("div",{className:"form-signin-heading"},"Admin Login"),p.default.createElement("div",{className:"form-signin"},p.default.createElement("form",{onSubmit:this.login,onKeyPress:function(t){return 13==t.charCode&&e.login(t)}},p.default.createElement("input",{className:"form-control email-input input",value:this.state.email,onChange:this.onEmailChange,name:"username",placeholder:"Email Address",type:"text"}),p.default.createElement("input",{className:"form-control password-input input",value:this.state.password,onChange:this.onPasswordChange,name:"password",placeholder:"Password",type:"password"}),p.default.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit"},"Login"))))))))}}]),t}(f.Component),y=function(e){return{authenticate:function(t,n){return e((0,g.authenticate)(t,n))},logout:function(){return e((0,g.logout)())}}},E=function(e){return{isAuthenticated:e.admin.isAuthenticated||!1,authToken:e.admin.token,errorMessage:e.admin.errorMessage,user:e.admin.user}};t.default=(0,m.connect)(E,y)(v)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(32),h=(a(m),n(22)),g=a(h),v=n(7),y=n(6),E=n(106),w=(a(E),n(11)),_=n(52),b=a(_),C=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollHandler=function(){window.scrollY>=n.state.topbarHeight+50&&n.state.backgroundColor!=n.defaultColor&&n.setState({backgroundColor:n.defaultColor}),window.scrollY<n.state.topbarHeight+50&&"transparent"!=n.state.backgroundColor&&n.setState({backgroundColor:"transparent"})},n.resizeHandler=function(){window.innerWidth<768&&n.state.smallDevice===!1&&n.setState({smallDevice:!0}),window.innerWidth>=768&&n.state.smallDevice===!0&&n.setState({smallDevice:!1,expanded:!1})},n.handleLogout=function(e){e.preventDefault(),n.props.logout(),y.browserHistory.push("/admin/login")},n.defaultColor="#3b5998",n.state={topbarHeight:60,backgroundColor:n.props.landingPage?"transparent":n.defaultColor,smallDevice:!1,expanded:!1},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t={height:this.state.topbarHeight,backgroundColor:this.state.backgroundColor};t.position="fixed",t.top=0,t.width="100%",this.state.expanded&&(t.height="auto");var a="hide-small-device";this.state.smallDevice&&(a="show-small-device"),this.state.expanded&&(t.backgroundColor=this.defaultColor);var r=void 0,s=void 0,l=void 0,o=void 0;return this.state.smallDevice&&(s=p.default.createElement("div",{className:"expand-button",onClick:function(){e.setState({expanded:!e.state.expanded})}},p.default.createElement(g.default,{name:"expand"}))),this.props.isAuthenticated&&(!this.state.smallDevice||this.state.smallDevice&&this.state.expanded)&&(r={title:p.default.createElement("a",null,this.props.user.name||this.props.user.email," ",p.default.createElement(g.default,{name:"caret-down"})),content:{items:[p.default.createElement("li",{key:1},p.default.createElement(y.Link,{to:"/admin/logout",onClick:this.handleLogout},"Logout"))]}},o=p.default.createElement("ul",{className:"right ul"},p.default.createElement(b.default,{title:r.title,items:r.content.items,smallDevice:this.state.smallDevice})),l=p.default.createElement("ul",{className:"left ul"},p.default.createElement("li",null,p.default.createElement(y.Link,{to:"/admin/users/"},"Users")),p.default.createElement("li",null,p.default.createElement(y.Link,{to:"/admin/channels/"},"Channels")))),p.default.createElement("div",{className:"topbar",style:t},p.default.createElement("div",{className:"container"},p.default.createElement("div",{className:"brand"},p.default.createElement(y.Link,{to:"/"},p.default.createElement("img",{src:n(18)}))),p.default.createElement("div",{className:a},l,o,s)))}}]),t}(f.Component),k=function(e){return{logout:function(t){return e((0,w.logout)(t))}}},S=function(e){return{isAuthenticated:e.admin.isAuthenticated||!1,authToken:e.admin.token,user:e.admin.user}};t.default=(0,v.connect)(S,k)(C)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(33),h=a(m),g=n(7),v=n(11),y={overlay:{background:"rgba(17, 17, 17, 0.80)",zIndex:500},content:{top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:40,minWidth:400,maxWidth:"70%"}},E=function(e){function t(){var e,n,a,r;(0,s.default)(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={email:"",password:"",confirmPassword:""},a.onEmailChange=function(e){a.setState({email:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onConfirmPasswordChange=function(e){a.props.clearMessages(),a.setState({confirmPassword:e.target.value})},a.addUser=function(e){return e.preventDefault(),a.state.password!=a.state.confirmPassword?a.props.showErrorMessage("The confirmation password doesn't match the password"):void a.props.createUser({email:a.state.email,password:a.state.password}).then(function(e){console.log("!!!!!"),e.success===!0&&(console.log("call close with true"),a.close(!0))})},a.close=function(e){a.setState({email:"",password:"",confirmPassword:""}),a.props.close(e)},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this;return p.default.createElement(h.default,{isOpen:this.props.isOpen,onAfterOpen:function(){},onRequestClose:this.close,style:y,contentLabel:"Modal"},p.default.createElement("h1",{style:{marginBottom:50}},"Add New User"),p.default.createElement("div",{className:"form-signup"},p.default.createElement("form",{onSubmit:this.addUser,onKeyPress:function(t){return 13==t.charCode&&e.addUser(t)}},p.default.createElement("input",{className:"form-control email-input input",value:this.state.email,onChange:this.onEmailChange,placeholder:"Email Address",type:"text"}),p.default.createElement("input",{className:"form-control email-input input",value:this.state.password,onChange:this.onPasswordChange,placeholder:"Password",type:"password"}),p.default.createElement("input",{className:"form-control password-input input",value:this.state.confirmPassword,onChange:this.onConfirmPasswordChange,placeholder:"Confirm Password",type:"password"}),p.default.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",onClick:this.addUser},"Create"))))}}]),t}(f.Component),w=function(e){return{createUser:function(t){return e((0,v.createUser)(t))},showErrorMessage:function(t){return e((0,v.showErrorMessage)(t))},clearMessages:function(t){return e((0,v.clearMessages)(t))}}},_=function(e){return{}};t.default=(0,g.connect)(_,w)(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(33),h=a(m),g=n(7),v=n(11),y={overlay:{background:"rgba(17, 17, 17, 0.80)",zIndex:500},content:{top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:40,minWidth:350,maxWidth:"70%"}},E=function(e){function t(){var e,n,a,r;(0,s.default)(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={password:"",confirmPassword:""},a.onPasswordChange=function(e){a.props.clearMessages(),a.setState({password:e.target.value})},a.onConfirmPasswordChange=function(e){a.props.clearMessages(),a.setState({confirmPassword:e.target.value})},a.changePassword=function(e){return e.preventDefault(),a.state.password!=a.state.confirmPassword?a.props.showErrorMessage("The confirmation password doesn't match the password"):void a.props.changePassword({password:a.state.password,userId:a.props.user._id}).then(function(e){e.success===!0&&a.close()})},a.close=function(){a.setState({password:"",confirmPassword:""}),a.props.close()},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this;return p.default.createElement(h.default,{isOpen:this.props.isOpen,onAfterOpen:function(){},onRequestClose:this.close,style:y,contentLabel:"Modal"},p.default.createElement("h4",{style:{marginBottom:30}},this.props.user.name||this.props.user.email," ",p.default.createElement("br",null)),p.default.createElement("div",{className:"form-signup"},p.default.createElement("form",{onSubmit:this.changePassword,onKeyPress:function(t){return 13==t.charCode&&e.changePassword(t)}},p.default.createElement("input",{className:"form-control email-input input",value:this.state.password,onChange:this.onPasswordChange,placeholder:"Password",type:"password"}),p.default.createElement("input",{className:"form-control password-input input",value:this.state.confirmPassword,onChange:this.onConfirmPasswordChange,placeholder:"Confirm Password",type:"password"}),p.default.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",onClick:this.changePassword},"Change Password"))))}}]),t}(f.Component),w=function(e){return{changePassword:function(t){return e((0,v.changePassword)(t))},showErrorMessage:function(t){return e((0,v.showErrorMessage)(t))},clearMessages:function(t){return e((0,v.clearMessages)(t))}}},_=function(e){return{}};t.default=(0,g.connect)(_,w)(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(22),g=a(h),v=(n(6),n(107)),y=(a(v),n(56)),E=a(y),w=n(57),_=a(w),b=n(35),C=a(b),k=n(11),S=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateAdminFlag=function(e){n.props.updateUser({id:n.props.user._id,isAdmin:!n.props.user.isAdmin})},n.updateValidatedFlag=function(e){n.props.updateUser({id:n.props.user._id,validated:!n.props.user.validated})},n.updateSuspendedFlag=function(e){n.props.updateUser({id:n.props.user._id,suspended:!n.props.user.suspended})},n.openChangePassword=function(){n.props.openChangePassword(n.props.user)},n.state={hover:!1},n.deleteUser=n.deleteUser.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n),n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"onMouseEnter",value:function(){this.setState({hover:!0})}},{key:"onMouseLeave",value:function(){this.setState({hover:!1})}},{key:"deleteUser",value:function(){this.props.deleteUser({id:this.props.user._id})}},{key:"render",value:function(){var e=this,t=this.props.user,n={backgroundColor:"white"};return this.state.hover&&(n.backgroundColor="#f9f9f9"),this.state.loading&&(n.backgroundColor="yellow"),p.default.createElement("tr",{className:"user-row",style:n,onMouseEnter:function(){return e.onMouseEnter()},onMouseLeave:function(){return e.onMouseLeave()}},p.default.createElement("td",{className:"td-index"},this.state.hover&&p.default.createElement(g.default,{name:"remove",style:{cursor:"pointer",color:"rgb(115, 115, 115)"},onClick:this.deleteUser}),!this.state.hover&&p.default.createElement("span",{style:{color:"rgb(115, 115, 115)",fontSize:18}},t.index)),p.default.createElement("td",{className:"td-avatar"},p.default.createElement("img",{src:t.avatar})),p.default.createElement("td",{className:"td-name"},p.default.createElement("div",null,t.name)),p.default.createElement("td",null,t.email),p.default.createElement("td",null,t.auth&&t.auth.provider,t.auth&&"email"===t.auth.provider&&p.default.createElement("span",null," (",p.default.createElement("a",{onClick:this.openChangePassword},"change pass"),")")),p.default.createElement("td",null,p.default.createElement("input",{onClick:this.updateAdminFlag,checked:t.isAdmin,type:"checkbox"})),p.default.createElement("td",null,p.default.createElement("input",{onClick:this.updateValidatedFlag,checked:t.validated,type:"checkbox"})),p.default.createElement("td",null,p.default.createElement("input",{onClick:this.updateSuspendedFlag,checked:t.suspended,type:"checkbox"})))}}]),t}(f.Component),M=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){for(var e=this,t=this.props.users,a=0;a<t.length;a++)t[a].index=a+1;return p.default.createElement("div",{className:"users-table-wrapper"},!this.props.loading&&p.default.createElement("table",{className:"table"},p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",{className:"td-index"},"#"),p.default.createElement("th",null,"Avatar"),p.default.createElement("th",null,"Name"),p.default.createElement("th",null,"Email"),p.default.createElement("th",null,"Auth"),p.default.createElement("th",null,"Admin"),p.default.createElement("th",null,"Activated"),p.default.createElement("th",null,"Suspended"))),p.default.createElement("tbody",null,t.map(function(t){return p.default.createElement(S,{key:t._id,deleteUser:e.props.deleteUser,updateUser:e.props.updateUser,openChangePassword:e.props.openChangePassword,user:t})}))),this.props.loading&&p.default.createElement("div",{className:"Loader"},p.default.createElement("img",{src:n(45)})))}}]),t}(f.Component),P=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteUser=function(e){n.props.deleteUser(e).then(function(){n.getUsers()})},n.updateUser=function(e){return n.setState({loading:!0}),n.props.updateUser(e).then(function(){n.getUsers()}).catch(function(){n.setState({loading:!1})})},n.openChangePassword=function(e){n.setState({changePassword:{isOpen:!0,user:e}})},n.closeChangePassword=function(){n.setState({changePassword:{isOpen:!1,user:{}}})},n.openAddUser=function(){n.setState({addUser:{isOpen:!0}})},n.addNewUser=function(){n.setState({addUser:{isOpen:!1}})},n.closeAddUser=function(e){console.log("IN CLOSE ADD"),n.setState({addUser:{isOpen:!1}}),e&&n.getUsers()},n.updatedFilteredUsers=function(e){return(e=(null!=e&&"undefined"!=typeof e?e:n.state.query).toLowerCase())?void n.setState({filteredUsers:n.state.users.filter(function(t){return(t.name||"").toLowerCase().indexOf(e)>=0||(t.email||"").toLowerCase().indexOf(e)>=0})}):n.setState({filteredUsers:n.state.users})},n.onQueryChange=function(e){n.setState({query:e}),n.updatedFilteredUsers(e)},n.state={loading:!1,users:[],filteredUsers:[],query:"",changePassword:{isOpen:!1,user:{}},addUser:{isOpen:!1}},n.createUser=n.createUser.bind(n),n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){this.getUsers()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"getUsers",value:function(){var e=this;this.setState({loading:!0}),console.log("get userss"),this.props.getUsers({}).then(function(t){e.setState({users:t.users}),e.updatedFilteredUsers(),e.setState({loading:!1})}).catch(function(){return e.setState({loading:!1})})}},{key:"createUser",value:function(e){var t=this,n=this.props.createUser(e);return n.then(function(e){e.success&&t.getUsers()}).catch(function(){}),n}},{key:"render",value:function(){return p.default.createElement("div",{className:"container admin",style:{marginTop:100}},p.default.createElement(E.default,{isOpen:this.state.addUser.isOpen,close:this.closeAddUser,addNewUser:this.addNewUser}),p.default.createElement(_.default,{isOpen:this.state.changePassword.isOpen,user:this.state.changePassword.user,close:this.closeChangePassword}),p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-12"},p.default.createElement("button",{style:{marginBottom:20,float:"left"},onClick:this.openAddUser,className:"btn btn-default"},"Add New User"),p.default.createElement("div",{style:{float:"right"}},p.default.createElement(C.default,{query:this.state.query,onQueryChange:this.onQueryChange})))),p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-md-12"},p.default.createElement(M,{users:this.state.filteredUsers,loading:this.state.loading,deleteUser:this.deleteUser,updateUser:this.updateUser,openChangePassword:this.openChangePassword}))))}}]),t}(f.Component),N=function(e){return{getUsers:function(t){return e((0,k.getUsers)(t))},createUser:function(t){return e((0,k.createUser)(t))},deleteUser:function(t){return e((0,k.deleteUser)(t))},updateUser:function(t){return e((0,k.updateUser)(t))},clearMessages:function(){return e((0,k.clearMessages)())}}},O=function(e){return{}};t.default=(0,m.connect)(O,N)(P)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=void 0,n=[(0,f.default)(e),o.default],a=void 0;return a=s.applyMiddleware.apply(void 0,n)(s.createStore),t=a(d.default,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var s=n(23),l=(n(14),n(48)),o=a(l),i=n(47),u=(a(i),n(60)),d=a(u),c=n(42),f=a(c)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),s=n(14),l=n(11),o=a(l);t.default=(0,r.combineReducers)({admin:o.default,reduxAsyncConnect:s.reducer})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),l=n(6),o=n(50),i=a(o),u=n(58),d=a(u),c=n(54),f=a(c),p=n(51),m=a(p);t.default=function(e,t){return s.default.createElement(l.Route,null,s.default.createElement(l.Route,{component:i.default},s.default.createElement(l.Route,{path:"/admin/",component:d.default}),s.default.createElement(l.Route,{path:"/admin/users",component:d.default}),s.default.createElement(l.Route,{path:"/admin/channels",component:m.default}),s.default.createElement(l.Route,{path:"/admin/login",component:f.default})))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(17),g=n(25),v=a(g),y=n(71),E=a(y),w=n(70),_=a(w),b=n(76),C=a(b),k=n(39),S=(a(k),function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){this.props.listCategories()}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.categories;return t?p.default.createElement(v.default,null):p.default.createElement("div",{className:"Browse"},p.default.createElement(_.default,null),p.default.createElement("div",{style:{display:"flex",justifyContent:"center",padding:"30px 15%"}},p.default.createElement("div",{style:{flex:1}},p.default.createElement(C.default,{classNames:"adslot_1",client:"ca-pub-8022147088754346",slot:"4861967110"}))),n.map(function(e){return p.default.createElement(E.default,{key:e._id,category:e})}))}}]),t}(f.Component)),M=function(e){return{listCategories:function(){e((0,h.listCategories)())}}},P=function(e){return{isFetching:e.channels.isFetching,categories:e.channels.categories}};t.default=(0,m.connect)(P,M)(S)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),s=a(r),l=n(2),o=a(l),i=n(3),u=a(i),d=n(5),c=a(d),f=n(4),p=a(f),m=n(1),h=a(m),g=n(36),v=a(g),y=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=(0,s.default)({},this.props,{auth:!0});return h.default.createElement(v.default,e)}}]),t}(m.Component);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(36),h=a(m),g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return p.default.createElement(h.default,this.props)}}]),t}(f.Component);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(81),h=a(m),g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return p.default.createElement(h.default,null)}}]),t}(f.Component);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(6),g=n(17),v=n(25),y=a(v),E=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"createMarkup",value:function(){var e=this.props.channel&&this.props.channel.embedCode?this.props.channel.embedCode:"";return{__html:e}}},{key:"goBack",value:function(){return h.browserHistory.goBack()}},{key:"componentWillMount",value:function(){this.props.fetchChannel((this.props.params||{}).channelId)}},{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout(function(){e.props.addView((e.props.params||{}).channelId)},2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props.isFetching;return e?p.default.createElement(y.default,null):p.default.createElement("div",null,p.default.createElement("div",null,p.default.createElement("div",{style:{margin:"0px 50px",cursor:"pointer"}},p.default.createElement(h.Link,{onClick:this.goBack},p.default.createElement("img",{src:n(123),alt:"Home Button"})))),p.default.createElement("div",null,p.default.createElement("div",{className:"playerContainer",dangerouslySetInnerHTML:this.createMarkup()})))}}]),t}(f.Component),w=function(e){return{fetchChannel:function(t){e((0,g.fetchChannel)(t))},addView:function(t){e((0,g.addView)(t))}}},_=function(e){return{isFetching:e.channels.isFetchingChannel,channel:e.channels.channel}};t.default=(0,m.connect)(_,w)(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(6),g=n(25),v=a(g),y=n(17),E=n(15),w=a(E),_=n(16),b=a(_),C=function(e){function t(){var e,n,a,r;(0,s.default)(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.setVisibleItems=function(e){a.setState({visibleItems:e})},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){this.props.search(this.props.params.query)}},{key:"componentWillReceiveProps",value:function(e){document.body.scrollTop=0,this.props.params.query!=e.params.query&&this.props.search(e.params.query)}},{key:"render",value:function(){var e=this.props.isFetching;if(e)return p.default.createElement(v.default,null);var t=void 0;t=this.props.searchResults.length>0?this.props.searchResults.map(function(e,t){var n=(0,b.default)(e);return p.default.createElement(h.Link,{to:(0,w.default)(e),key:"search-item-"+t},p.default.createElement("div",{className:"search-item"},p.default.createElement("div",{className:"search-background",style:{backgroundImage:"url("+n+")"}},p.default.createElement("div",{className:"search-caption"},e.title))))}):p.default.createElement("div",null,"There is no results");var n=this.props.relatedTitles;return n=n.length>0?this.props.relatedTitles.map(function(e,t,n){return p.default.createElement("span",{className:"related-title"},p.default.createElement(h.Link,{to:(0,w.default)(e),key:"related-title-"+t,className:"related-title-link"},e.title.trim()))}):void 0,p.default.createElement("div",{className:"main"},n&&p.default.createElement("div",{className:"related-titles-container"},p.default.createElement("span",{style:{color:"grey",cursor:"default"}},"Related channels:")," ",n),p.default.createElement("div",{className:"search-container"},t))}}]),t}(f.Component),k=function(e){return{search:function(t){e((0,y.search)(t))}}},S=function(e){return{isFetching:e.channels.isFetchingSearchResults,relatedTitles:e.channels.relatedTitles,searchResults:e.channels.searchResults}};t.default=(0,m.connect)(S,k)(C)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(82),h=a(m),g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return p.default.createElement(h.default,null)}}]),t}(f.Component);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(7),h=n(80),g=a(h),v=n(73),y=a(v),E=n(72),w=(a(E),
n(8)),_=n(110),b=(a(_),n(111)),C=(a(b),n(109)),k=(a(C),n(108)),S=(a(k),function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){this.props.decrementDonateCounter()}},{key:"componentWillReceiveProps",value:function(e){!this.props.isAuthenticated&&e.isAuthenticated&&this.props.decrementDonateCounter()}},{key:"render",value:function(){return p.default.createElement("div",null,!1,p.default.createElement(g.default,null),this.props.children,p.default.createElement(y.default,null))}}]),t}(f.Component)),M=function(e){return{decrementDonateCounter:function(){e((0,w.decrementDonateCounter)())}}},P=function(e){return{donateModalCounter:e.auth.donateModalCounter,isAuthenticated:e.auth.isAuthenticated}};t.default=(0,m.connect)(P,M)(S)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),l=n(6),o=n(112),i=(a(o),function(){return s.default.createElement("div",null,s.default.createElement("div",{className:"billboard"},s.default.createElement("div",{className:"container"},s.default.createElement("div",{className:"hero-gradient"}),s.default.createElement("div",{className:"intro-text-wrapper"},s.default.createElement("div",{className:"intro-text"},s.default.createElement("div",{className:"intro-heading"},"ISHINE KNECT ",s.default.createElement("span",null,"SATURDAYS 12PM CST")),s.default.createElement("div",{className:"intro-lead-in"},"Families and pre-teens you are in for a treat! If you like the shows seen on Nickelodeon and Disney TV then this Christian series is going to be a lot of fun for the entire family. iShine KNECT is designed for kids and parents to take time to connect with each other and have some wacky fun in the process."),s.default.createElement(l.Link,{className:"btn btn-light",to:"/watch/578558ae73de2089121b6b1a"},"Watch Now"))))))});t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(39),h=a(m),g=n(38),v=(a(g),n(113)),y=(a(v),function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return p.default.createElement("div",this.props,this.props.children)}}]),t}(p.default.Component),function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.category;return e.channels=e.channels?e.channels:[],p.default.createElement("div",{className:"Category"},!!e.channels.length&&p.default.createElement("div",null,p.default.createElement(h.default,{key:e.name,items:e.channels,sliderTitle:e.name})))}}]),t}(f.Component));y.propTypes={category:f.PropTypes.object},t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(2),l=a(s),o=n(3),i=a(o),u=n(5),d=a(u),c=n(4),f=a(c),p=n(12),m=a(p),h=n(1),g=a(h),v=n(33),y=a(v),E=n(6),w=n(7),_=n(8),b={overlay:{background:"rgba(17, 17, 17, 0.80)",zIndex:500},content:(r={top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"rgba(17, 17, 17, 0.99)",padding:60,maxWidth:"70%"},(0,m.default)(r,"maxWidth",450),(0,m.default)(r,"textAlign","center"),r)},C={fontSize:25,color:"#fff",position:"absolute",top:10,right:15,cursor:"pointer"},k=function(e){function t(){var e,n,a,r;(0,l.default)(this,t);for(var s=arguments.length,o=Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=a=(0,d.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={isOpen:!0},a.closeModal=function(){a.setState({isOpen:!1}),a.props.resetDonateCounter()},r=n,(0,d.default)(a,r)}return(0,f.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return g.default.createElement(y.default,{isOpen:this.state.isOpen,onAfterOpen:function(){},onRequestClose:this.closeModal,style:b,contentLabel:"Modal"},g.default.createElement("div",{style:C,onClick:this.closeModal},"X"),g.default.createElement("img",{src:n(18),style:{width:150,marginBottom:30},alt:"Enternity Ready Logo"}),g.default.createElement("p",null,"Rapture Ready TV needs your help. Our Service is Free. We serve people from over 50+ countries around the world. Our Mission is to offer a Message of Hope and Love. Would you give a special gift or monthly donation?  Your financial support and prayers helps us to provide quality features, technology and programs to people around the world! Thank you in advance for your support!"),g.default.createElement(E.Link,{className:"btn",to:"https://www.paypal.me/eternityready",target:"_blank",style:{marginTop:40,borderRadius:4,backgroundColor:"aliceblue"}},g.default.createElement("img",{alt:"Donate",src:n(124)})))}}]),t}(h.Component),S=function(e){return{resetDonateCounter:function(){return e((0,_.resetDonateCounter)())}}};t.default=(0,w.connect)(null,S)(k)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(46),h=a(m),g=n(41),v=(a(g),n(114)),y=(a(v),function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"hideFooter",value:function(){try{return/\/watch\//.test(this.context.router.location.pathname)}catch(e){return!1}}},{key:"render",value:function(){return p.default.createElement("footer",{className:(0,h.default)({hideFooter:this.hideFooter()})},p.default.createElement("div",{className:"footer sepparator"}),p.default.createElement("div",{className:"footer FooterLinks"},p.default.createElement("a",{href:"http://www.eternityready.org/about-us",target:"_blank",className:"active section"},"About Us"),p.default.createElement("div",{className:"sepparator"}," / "),p.default.createElement("a",{href:"http://www.eternityready.org/affilate",target:"_blank",className:"active section"},"Got Content?"),p.default.createElement("div",{className:"sepparator"}," / "),p.default.createElement("a",{href:"http://www.eternityready.org/advertise",target:"_blank",className:"active section"},"Advertise"),p.default.createElement("div",{className:"sepparator"}," / "),p.default.createElement("a",{href:"http://www.eternityready.org/help",target:"_blank",className:"active section"},"Help"),p.default.createElement("div",{className:"sepparator"}," / "),p.default.createElement("a",{href:"http://www.eternityready.org/terms",target:"_blank",className:"active section"},"Policies"),p.default.createElement("div",{className:"sepparator"}," / ")),p.default.createElement("div",null,p.default.createElement("br",null),p.default.createElement("a",{href:"https://www.facebook.com/eternityready/",target:"_blank"},p.default.createElement("img",{src:"http://www.eternityready.com/images/facebook_32.png",width:"32",height:"32"}))),p.default.createElement("p",null,"© 2017 Eternity Ready",p.default.createElement("br",null)),p.default.createElement("p",null,"RRTV is a division of Eternity Ready. Some of the Web Site related logos, content, and all other Intellectual property contained therein are not owned nor endorsed by ETERNITY READY. The Doctrine - Theology expressed thru content on this site do not neccessary reflect the views and beliefs of Eternity Ready. And are provided for Educational Purposes only.",p.default.createElement("br",null)))}}]),t}(f.Component));y.contextTypes={router:f.PropTypes.object},t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),s=a(r),l=n(9),o=a(l),i=n(2),u=a(i),d=n(3),c=a(d),f=n(5),p=a(f),m=n(4),h=a(m),g=n(1),v=a(g),y=n(7),E=n(24),w=a(E),_=n(8),b=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleEmail=function(t){var n=t.target.value.trim();w.default.isEmail(n)?e.setState({email:{error:"",value:n,valid:!0}}):e.setState({email:(0,o.default)({},e.state.email,{error:n+" is not a valid email"})}),e.setState({canSubmit:w.default.isEmail(n)})},e.handleClick=function(t){t.preventDefault(),e.state.canSubmit&&e.props.sendForgotPasswordEmail(e.state.email.value)},e.state={canSubmit:!1,email:{value:"",error:""}},e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.props.clearMessages()}},{key:"render",value:function(){var e,t=this.props,n=t.errorMessage,a=t.successMessage;return v.default.createElement("form",{onSubmit:this.handleClick},!a&&v.default.createElement("span",null,v.default.createElement("p",null,"Please enter your email address!"),v.default.createElement("label",{className:"login-inputgroup"},v.default.createElement("span",null,"Email"),v.default.createElement("input",{type:"text",className:"login-input",onChange:this.handleEmail,name:"email"}),this.state.email.error&&v.default.createElement("p",{className:"login-error"},this.state.email.error)),v.default.createElement("button",(e={type:"button",className:"btn btn-light login-button"},(0,s.default)(e,"type","submit"),(0,s.default)(e,"disabled",!this.state.canSubmit),(0,s.default)(e,"onClick",this.handleClick),e),"Send Email")),n&&v.default.createElement("p",{className:"main-signup-error"},n),a&&v.default.createElement("p",{className:"signup-info"},a))}}]),t}(g.Component),C=function(e){return{sendForgotPasswordEmail:function(t){e((0,_.sendForgotPasswordEmail)(t))},clearMessages:function(){e((0,_.clearMessages)())}}},k=function(e){return{errorMessage:e.auth.errorMessage,successMessage:e.auth.successMessage}};t.default=(0,y.connect)(k,C)(b)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),s=a(r),l=n(9),o=a(l),i=n(2),u=a(i),d=n(3),c=a(d),f=n(5),p=a(f),m=n(4),h=a(m),g=n(1),v=a(g),y=n(7),E=(n(6),n(8)),w=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePassword=function(t){var n=t.target.value.trim();n.length>=4&&n.length<=60?e.setState({password:{error:"",value:n,valid:!0}}):e.setState({password:(0,o.default)({},e.state.password,{error:"Your password must contain between 4 and 60 characters"})}),e.setState({canSubmit:n.length>=4&&n.length<=60&&!e.state.passwordConfirm.error&&e.state.passwordConfirm.value.length>0})},e.handlePasswordConfirm=function(t){var n=t.target.value.trim();n===e.state.password.value?e.setState({passwordConfirm:{error:"",value:n,valid:!0}}):e.setState({passwordConfirm:(0,o.default)({},e.state.passwordConfirm,{error:"Your passwords must match"})}),e.setState({canSubmit:!e.state.password.error&&n===e.state.password.value})},e.handleClick=function(t){if(t.preventDefault(),e.state.canSubmit){if(e.props.isChangePassword===!0)return e.props.changePassword({password:e.state.password.value});e.props.resetPassword({token:e.props.token,password:e.state.password.value})}},e.state={canSubmit:!1,password:{value:"",error:""},passwordConfirm:{value:"",error:""}},e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.props.clearMessages()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e,t=this.props,n=t.errorMessage,a=t.successMessage;return v.default.createElement("form",{onSubmit:this.handleClick},!a&&v.default.createElement("span",null,v.default.createElement("label",{className:"login-inputgroup"},v.default.createElement("span",null,"New Password"),v.default.createElement("input",{type:"password",className:"login-input",onChange:this.handlePassword,name:"password"}),this.state.password.error&&v.default.createElement("p",{className:"login-error"},this.state.password.error)),v.default.createElement("label",{className:"login-inputgroup"},v.default.createElement("span",null,"Confirm New Password"),v.default.createElement("input",{type:"password",className:"login-input",onChange:this.handlePasswordConfirm}),this.state.passwordConfirm.error&&v.default.createElement("p",{className:"login-error"},this.state.passwordConfirm.error)),v.default.createElement("button",(e={type:"button",className:"btn btn-light login-button"},(0,s.default)(e,"type","submit"),(0,s.default)(e,"disabled",!this.state.canSubmit),(0,s.default)(e,"onClick",this.handleClick),e),"Update Password")),n&&v.default.createElement("p",{className:"main-signup-error"},n),a&&v.default.createElement("p",{className:"signup-info"},a))}}]),t}(g.Component),_=function(e){return{resetPassword:function(t){e((0,E.resetPassword)(t))},changePassword:function(t){e((0,E.changePassword)(t))},clearMessages:function(){e((0,E.clearMessages)())}}},b=function(e){return{errorMessage:e.auth.errorMessage,successMessage:e.auth.successMessage}};t.default=(0,y.connect)(b,_)(w)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(116),h=(a(m),function(e){function t(){var e,n,a,r;(0,s.default)(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.componentDidMount=function(){(window.adsbygoogle=window.adsbygoogle||[]).push({})},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return p.default.createElement("ins",{className:"adsbygoogle "+this.props.classNames,style:this.props.style,"data-ad-client":this.props.client,"data-ad-slot":this.props.slot})}}]),t}(f.Component));h.defaultProps={style:{display:"inline-block"}},h.PropTypes={style:p.default.PropTypes.object,client:p.default.PropTypes.string.isRequired,slot:p.default.PropTypes.string.isRequired,format:p.default.PropTypes.string,classNames:p.default.PropTypes.string},t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(37),h=a(m),g=n(6),v=n(7),y=n(8),E=n(79),w=a(E),_=function(e){function t(){var e,n,a,r;(0,s.default)(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={dropDownVisible:!1,hideDropDownTimer:null,isDark:!1},a.handleLogout=function(){a.props.requestLogout(),g.browserHistory.push("/login")},a.handleLogin=function(){g.browserHistory.push("/login")},a.handleSignup=function(){g.browserHistory.push("/signup")},a.handleScroll=function(e){window.scrollY>50?a.setState({isDark:!0}):a.setState({isDark:!1})},a.showDropDown=function(){a.cancelHideTimer(),a.setState({dropDownVisible:!0})},a.timerHide=function(){var e=a;a.setState({hideDropDownTimer:setTimeout(function(){null!==e.state.hideDropDownTimer&&e.hideDropDown()},1e3)})},a.toggleDropDownMenu=function(){a.setState({dropDownVisible:!a.state.dropDownVisible})},a.cancelHideTimer=function(){a.setState({hideDropDownTimer:null})},a.hideDropDown=function(){a.setState({dropDownVisible:!1})},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"dropDownTouch",value:function(e){this.toggleDropDownMenu()}},{key:"openRadio",value:function(){window.open("http://eternityreadyradio.com/player/")}},{key:"openDonate",value:function(){window.open("https://www.paypal.me/eternityready")}},{key:"render",value:function(){var e=this,t={display:this.state.dropDownVisible?"block":"none"},a=this.state.isDark?"headerDesktop headerDesktopOpaque":"headerDesktop";return p.default.createElement("div",{className:a,ref:function(t){return e._header=t}},p.default.createElement("img",{src:n(18),style:{width:105,cursor:"pointer"},alt:"Enternity Ready Logo",onClick:function(){g.browserHistory.push("/browse")}}),!this.props.isAuthenticated&&p.default.createElement("span",{style:{float:"right"}},"login"!==this.props.page&&p.default.createElement("span",{className:"mainMenuLink",onClick:this.handleLogin},"Login"),"login"===this.props.page&&p.default.createElement("span",{className:"mainMenuLink",onClick:this.handleSignup},"Signup")),p.default.createElement("span",null,p.default.createElement("span",{className:"dropdown mainMenuLink",onTouchStart:this.dropDownTouch,onMouseEnter:this.showDropDown,onMouseLeave:this.timerHide}),p.default.createElement("div",{className:"dropdiv",style:t,onMouseEnter:this.cancelHideTimer,onMouseLeave:this.timerHide},p.default.createElement("ul",{className:"sectiondrop"},p.default.createElement("li",null,p.default.createElement("a",{href:"http://www.eternityready.org/devices",target:"_blank"},"How to Watch")),"                  ",p.default.createElement("li",null,p.default.createElement("a",{href:""})),p.default.createElement("li",null,p.default.createElement("a",{href:"http://www.eternityready.org/production",target:"_blank"},"Originals")),"                  ",p.default.createElement("li",null,p.default.createElement("a",{href:""})),p.default.createElement("li",null,p.default.createElement("a",{href:"http://www.eternityready.org/lineup.pdf",target:"_blank"},"TV Line Up"))),p.default.createElement("ul",{className:"sectiondrop"},p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Faith & Ministry")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Kids & Family")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Bible Prophecy")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"News & Politics")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Movies & Music"))),p.default.createElement("ul",{className:"sectiondrop"},p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Gaming & Technology")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Health & Sports")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"International Networks")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Premium Channels")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"All Channnels")))),p.default.createElement("span",{className:"mainMenuLink",onClick:this.openRadio},"Radio"),p.default.createElement("span",{className:"mainMenuLink",onClick:this.openDonate},"Donate"),this.props.isAuthenticated&&p.default.createElement(w.default,{user:this.props.user,handleLogout:this.handleLogout}),p.default.createElement(h.default,{device:"desktop"})))}}]),t}(f.Component),b=function(e){return{isAuthenticated:e.auth.isAuthenticated||!1,user:e.auth.user,page:e.auth.page}},C=function(e){return{requestLogout:function(){return e((0,y.logout)())}}};t.default=(0,v.connect)(b,C)(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(37),h=a(m),g=n(6),v=n(7),y=n(8),E=function(e){function t(){var e,n,a,r;(0,s.default)(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={mobileMenuVisible:!1},a.toggleMobileMenu=function(){a.setState({mobileMenuVisible:!a.state.mobileMenuVisible})},a.togleRadio=function(e){"block"===e.currentTarget.parentElement.querySelector("ul").style.display?e.currentTarget.parentElement.querySelector("ul").style.display="none":e.currentTarget.parentElement.querySelector("ul").style.display="block"},a.handleLogout=function(e){e.preventDefault(),a.props.requestLogout(),a.toggleMobileMenu(),g.browserHistory.push("/login")},a.handleLogin=function(e){e.preventDefault(),a.toggleMobileMenu(),g.browserHistory.push("/login")},a.handleSignup=function(e){e.preventDefault(),a.toggleMobileMenu(),g.browserHistory.push("/signup")},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e="",t={display:"none"};return this.state.mobileMenuVisible&&(e="open",t={display:"block"}),p.default.createElement("div",{className:"header",id:"header-mobile"},p.default.createElement("div",{className:"mobileHeaderTop"},p.default.createElement("div",{id:"menu-icon",onClick:this.toggleMobileMenu,className:e},p.default.createElement("span",null),p.default.createElement("span",null),p.default.createElement("span",null)),p.default.createElement("img",{alt:"Enternity Ready Logo",src:n(18)}),p.default.createElement(h.default,null)),p.default.createElement("nav",{id:"main-menu",style:t},p.default.createElement("ul",{className:"menu",rel:"Main Menu"},p.default.createElement("li",null,p.default.createElement("a",{href:"#"},p.default.createElement("span",null,"Categories")),p.default.createElement("ul",{className:"column"},p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Faith & Ministry")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Kids & Family")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Bible Prophecy")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"News & Politics")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Movies & Music")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Health & Sports")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Gaming & Technology")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Top-Channels")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Premium Channels")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Movie Trailers")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"International Channels")))),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},p.default.createElement("span",null,"Radio Channels")),p.default.createElement("ul",null,p.default.createElement("li",null,p.default.createElement("a",{href:"#",onTouchStart:this.togleRadio},p.default.createElement("span",null,"Channels 11, 219 - 230")),p.default.createElement("ul",null,p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 111 - Word Broadcasting")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 219 - CC Music Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 220 - Alive In Chirst Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 221 - WBCL 90.3")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 222 - The Life FM")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 223 - The Joy FM")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 224 - The Bridge Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 225 - The Blast Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 226 - Rejoin AM - WDRJ")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 227 - Praise Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 228 - Moody Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 229 - Living Voice Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 230 - KSBJ89.3")))),p.default.createElement("li",null,p.default.createElement("a",{href:"#",onTouchStart:this.togleRadio},p.default.createElement("span",null,"Channels 231-240")),p.default.createElement("ul",null,p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 231 - KNVBC")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 232 - KFSI")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 233 - KDIA 1640AM")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 234 - His Kids Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 235 - Gospel Experience Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 236 - Cross Pop Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 237 - Christian Rock Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 238 - Christian Power Praise Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 239 - Christian Classic Rock Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 240 - Christian Hard Rock Radio")))),p.default.createElement("li",null,p.default.createElement("a",{href:"#",onTouchStart:this.togleRadio},p.default.createElement("span",null,"Channels 241-245")),p.default.createElement("ul",null,p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 241 - KLTY 94.")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 242 - K Love")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 243 - My Bridge FM")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 244 - Hebrew Nation Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Channel 245 - Ref Net")))))),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},p.default.createElement("span",null,"Radio Categories")),p.default.createElement("ul",{className:"column"},p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Talk Radio")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Hymns")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Contemporary")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Gospel")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Christian Pop")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Christian Rock")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"Eternity Ready Radio")))),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},p.default.createElement("span",null,"Tools")),p.default.createElement("ul",{className:"column"},p.default.createElement("li",null,p.default.createElement("a",{href:"http://www.eternityready.com/channels/lineup.pdf"},"TV Line UP")),p.default.createElement("li",null,p.default.createElement("a",{href:"#"},"All Channels")))),p.default.createElement("ul",{className:"menu",rel:"Main Menu"},p.default.createElement("li",null,p.default.createElement("a",{href:"#"},p.default.createElement("span",null,"User")),!this.props.isAuthenticated&&p.default.createElement("ul",{className:"column"},p.default.createElement("li",null,p.default.createElement(g.Link,{to:"/login",onClick:this.handleLogin},"Login")),p.default.createElement("li",null,p.default.createElement(g.Link,{to:"/signup",onClick:this.handleSignup},"Signup"))),this.props.isAuthenticated&&p.default.createElement("ul",{className:"column"},p.default.createElement("li",null,p.default.createElement(g.Link,{to:"/logout",onClick:this.handleLogout},"Logout"))))))))}}]),t}(f.Component),w=function(e){return{isAuthenticated:e.auth.isAuthenticated||!1,user:e.auth.user}},_=function(e){return{requestLogout:function(){return e((0,y.logout)())}}};t.default=(0,v.connect)(w,_)(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(32),p=(a(f),n(1)),m=a(p),h=n(6),g=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){window.addEventListener("resize",n.handleResize)},n.componentWillUnmount=function(){window.removeEventListener("resize",n.handleResize)},n.handleResize=function(){var e=window.innerWidth>=880?22:13;e!=n.state.maxNameLength&&n.setState({maxNameLength:e})},n.showDropDown=function(){n.cancelHideTimer(),n.setState({dropDownVisible:!0})},n.timerHide=function(){var e=n;n.setState({hideDropDownTimer:setTimeout(function(){null!==e.state.hideDropDownTimer&&e.hideDropDown()},1e3)})},n.toggleDropDownMenu=function(){n.setState({dropDownVisible:!n.state.dropDownVisible})},n.cancelHideTimer=function(){n.setState({hideDropDownTimer:null})},n.hideDropDown=function(){n.setState({dropDownVisible:!1})},n.handleChangePassword=function(){h.browserHistory.push("/change-password"),n.hideDropDown()},n.state={dropDownVisible:!1,hideDropDownTimer:null,maxNameLength:13},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"dropDownTouch",value:function(e){this.toggleDropDownMenu()}},{key:"render",value:function(){var e=this.state.maxNameLength,t=(this.props.user.email||"").split("@")[0],n=this.props.user.name||t||"Account";return n.length>e&&(n=n.slice(0,e-3)+"..."),m.default.createElement("span",{className:"mainMenuLink",style:{position:"relative",float:"right"}},m.default.createElement("span",{onTouchStart:this.dropDownTouch,onMouseEnter:this.showDropDown,onMouseLeave:this.timerHide},"▾ ",n),this.state.dropDownVisible&&m.default.createElement("ul",{className:"userdropdown-content-ul",onMouseEnter:this.cancelHideTimer,onMouseLeave:this.timerHide},m.default.createElement("li",{onClick:this.props.handleLogout},"Logout"),"email"===this.props.user.auth.provider&&m.default.createElement("li",{onClick:this.handleChangePassword},"Change Password")))}}]),t}(p.Component);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=a(r),l=n(3),o=a(l),i=n(5),u=a(i),d=n(4),c=a(d),f=n(1),p=a(f),m=n(77),h=a(m),g=n(78),v=a(g),y=n(46),E=a(y),w=n(41),_=a(w),b=n(117),C=(a(b),function(e){function t(){var e,n,a,r;(0,s.default)(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=(0,u.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={mobileMenuVisible:(0,_.default)()},a.componentDidMount=function(){window.addEventListener("resize",a.handleResize)},a.componentWillUnmount=function(){window.removeEventListener("resize",a.handleResize)},a.handleResize=function(){a.setState({mobileMenuVisible:(0,_.default)()})},r=n,(0,u.default)(a,r)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"hideMenu",value:function(){try{return/\/watch\//.test(this.context.router.location.pathname)}catch(e){return!1}}},{key:"render",value:function(){var e=this;return p.default.createElement("header",{className:(0,E.default)("App-Header",{hideTopMenu:this.hideMenu()}),ref:function(t){return e._header=t}},this.state.mobileMenuVisible?p.default.createElement(v.default,null):p.default.createElement(h.default,null))}}]),t}(f.Component));
C.contextTypes={router:f.PropTypes.object},t.default=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),s=a(r),l=n(9),o=a(l),i=n(2),u=a(i),d=n(3),c=a(d),f=n(5),p=a(f),m=n(4),h=a(m),g=n(1),v=a(g),y=n(24),E=a(y),w=n(7),_=n(6),b=n(8),C=n(40),k=a(C);n(119);var S=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleEmail=function(t){var n=t.target.value.trim();E.default.isEmail(n)?e.setState({email:{error:"",value:n,valid:!0}}):e.setState({email:(0,o.default)({},e.state.email,{error:n+" is not a valid email"})}),e.setState({canSubmit:E.default.isEmail(n)&&!e.state.password.error&&e.state.password.value.length>0})},e.handlePassword=function(t){var n=t.target.value.trim();n.length>=4&&n.length<=60?e.setState({password:{error:"",value:n,valid:!0}}):e.setState({password:(0,o.default)({},e.state.password,{value:n,error:"Your password must contain between 4 and 60 characters"})}),e.setState({canSubmit:!e.state.email.error&&n.length>=4&&n.length<=60})},e.handleClick=function(t){if(t.preventDefault(),e.state.canSubmit){var n={email:e.state.email.value,password:e.state.password.value};e.props.authenticate(n)}else e.setState({password:(0,o.default)({},e.state.password,{error:"Please correctly input your email and password"})})},e.state={canSubmit:!1,email:{value:"",error:""},password:{value:"",error:""}},e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.props.clearMessages(),this.props.logout(),this.props.setPage("login")}},{key:"componentWillReceiveProps",value:function(e){!this.props.isAuthenticated&&e.isAuthenticated&&_.browserHistory.push("/browse")}},{key:"render",value:function(){var e,t=this.props.errorMessage,n={color:"#daedf9",textDecoration:"underline"};return v.default.createElement("div",{className:"login"},v.default.createElement("form",{onSubmit:this.handleClick},v.default.createElement("h1",{className:"login-heading"},"Log in"),v.default.createElement(k.default,null),v.default.createElement("label",{className:"login-inputgroup"},v.default.createElement("span",null,"Email"),v.default.createElement("input",{type:"text",className:"login-input",autoComplete:"off",onChange:this.handleEmail,name:"email"}),this.state.email.error&&v.default.createElement("p",{className:"login-error"},this.state.email.error)),v.default.createElement("label",{className:"login-inputgroup"},v.default.createElement("span",null,"Password"),v.default.createElement("input",{type:"password",className:"login-input",autoComplete:"off",onChange:this.handlePassword,name:"password"}),this.state.password.error&&v.default.createElement("p",{className:"login-error"},this.state.password.error)),v.default.createElement("button",(e={type:"button"},(0,s.default)(e,"type","submit"),(0,s.default)(e,"className","btn btn-light login-button"),(0,s.default)(e,"onClick",this.handleClick),e),"Log In"),this.props.errorMessage&&v.default.createElement("p",{className:"main-login-error"},t)),v.default.createElement("p",{className:"forget-link"},v.default.createElement(_.Link,{style:n,to:"/forgot-password"},"Forgot your password?")),v.default.createElement("p",{className:"signup-link"},"New to Rapture Ready TV? ",v.default.createElement(_.Link,{to:"/signup",style:n},"Sign up now.")))}}]),t}(g.Component);S.propTypes={authenticate:g.PropTypes.func.isRequired,errorMessage:g.PropTypes.string};var M=function(e){return{authenticate:function(t){e((0,b.authenticate)(t))},clearMessages:function(t){e((0,b.clearMessages)(t))},logout:function(t){e((0,b.logout)(t))},setPage:function(t){e((0,b.setPage)(t))}}},P=function(e){return{errorMessage:e.auth.errorMessage,isAuthenticated:e.auth.isAuthenticated}};t.default=(0,w.connect)(P,M)(S)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),s=a(r),l=n(9),o=a(l),i=n(2),u=a(i),d=n(3),c=a(d),f=n(5),p=a(f),m=n(4),h=a(m),g=n(1),v=a(g),y=n(7),E=n(6),w=n(24),_=a(w),b=n(8),C=n(40),k=a(C);n(121);var S=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleEmail=function(t){var n=t.target.value.trim();_.default.isEmail(n)?e.setState({email:{error:"",value:n,valid:!0}}):e.setState({email:(0,o.default)({},e.state.email,{error:n+" is not a valid email"})}),e.setState({canSubmit:_.default.isEmail(n)&&!e.state.password.error&&!e.state.passwordConfirm.error&&e.state.password.value.length>0})},e.handlePassword=function(t){var n=t.target.value.trim();n.length>=4&&n.length<=60?e.setState({password:{error:"",value:n,valid:!0}}):e.setState({password:(0,o.default)({},e.state.password,{error:"Your password must contain between 4 and 60 characters"})}),e.setState({canSubmit:!e.state.email.error&&n.length>=4&&n.length<=60&&!e.state.passwordConfirm.error&&e.state.passwordConfirm.value.length>0})},e.handlePasswordConfirm=function(t){var n=t.target.value.trim();n===e.state.password.value?e.setState({passwordConfirm:{error:"",value:n,valid:!0}}):e.setState({passwordConfirm:(0,o.default)({},e.state.passwordConfirm,{error:"Your passwords must match"})}),e.setState({canSubmit:!e.state.email.error&&!e.state.password.error&&n===e.state.password.value})},e.handleClick=function(t){if(t.preventDefault(),e.state.canSubmit){var n={email:e.state.email.value,password:e.state.password.value};e.props.onSignupClick(n)}},e.state={canSubmit:!1,email:{value:"",error:""},password:{value:"",error:""},passwordConfirm:{value:"",error:""}},e}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.props.clearMessages(),this.props.setPage("signup")}},{key:"componentWillReceiveProps",value:function(e){!this.props.isAuthenticated&&e.isAuthenticated&&E.browserHistory.push("/browse")}},{key:"render",value:function(){var e,t=this.props,n=t.errorMessage,a=t.successMessage,r={color:"#daedf9",textDecoration:"underline"};return v.default.createElement("div",{className:"signup"},v.default.createElement("form",{onSubmit:this.handleClick},v.default.createElement("h1",{className:"login-heading"},"Sign Up"),v.default.createElement(k.default,{signup:!0}),v.default.createElement("label",{className:"login-inputgroup"},v.default.createElement("span",null,"Email"),v.default.createElement("input",{type:"text",className:"login-input",onChange:this.handleEmail,name:"email"}),this.state.email.error&&v.default.createElement("p",{className:"login-error"},this.state.email.error)),v.default.createElement("label",{className:"login-inputgroup"},v.default.createElement("span",null,"Password"),v.default.createElement("input",{type:"password",className:"login-input",onChange:this.handlePassword,name:"password"}),this.state.password.error&&v.default.createElement("p",{className:"login-error"},this.state.password.error)),v.default.createElement("label",{className:"login-inputgroup"},v.default.createElement("span",null,"Password Confirm"),v.default.createElement("input",{type:"password",className:"login-input",onChange:this.handlePasswordConfirm}),this.state.passwordConfirm.error&&v.default.createElement("p",{className:"login-error"},this.state.passwordConfirm.error)),v.default.createElement("button",(e={type:"button",className:"btn btn-light login-button"},(0,s.default)(e,"type","submit"),(0,s.default)(e,"disabled",!this.state.canSubmit),(0,s.default)(e,"onClick",this.handleClick),e),"Sign Up"),n&&v.default.createElement("p",{className:"main-signup-error"},n),a&&v.default.createElement("p",{className:"signup-info"},a)),v.default.createElement("p",{className:"signup-page-link"},"Already on Rapture Ready TV? ",v.default.createElement(E.Link,{style:r,to:"/login"},"Log in now.")))}}]),t}(g.Component);S.propTypes={onSignupClick:g.PropTypes.func.isRequired,errorMessage:g.PropTypes.string};var M=function(e){return{onSignupClick:function(t){e((0,b.signup)(t))},clearMessages:function(){e((0,b.clearMessages)())},setPage:function(t){e((0,b.setPage)(t))}}},P=function(e){return{successMessage:e.auth.successMessage,errorMessage:e.auth.errorMessage,isAuthenticated:e.auth.isAuthenticated}};t.default=(0,y.connect)(P,M)(S)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),l=n(6),o=n(15),i=a(o),u=n(16),d=a(u),c={container:{transform:"scale(1)",visibility:"visible",width:"100%",height:"100%",top:"-41%",left:"-41%",transitionTimingFunction:"cubic-bezier(0.5, 0, 0.1, 1)",transitionDuration:"400ms",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"100% 100%",backgroundImage:""},overlay:{position:"absolute",top:"0",right:"0",bottom:"-1px",left:"-1px",cursor:"pointer",zIndex:2,backgroundColor:"rgba(0,0,0,0)",backgroundImage:"linear-gradient(to bottom,rgba(0,0,0,0) 0,rgba(0,0,0,0) 33%,rgba(0,0,0,.85) 100%)"},hitzone:{position:"absolute",top:"0px",left:"0px",right:"0px",bottom:"0px",zIndex:"1"}},f=function(e){var t=e.title,n=e.age,a=e.year,r=e.description,o=e.rating,u=(e.slug,e.href,e.uniqueId,(0,d.default)(e));return c.container.backgroundImage="url("+u+")",s.default.createElement("div",{style:c.container},s.default.createElement("div",{style:c.overlay},s.default.createElement(l.Link,{to:(0,i.default)(e)},s.default.createElement("div",{className:"play"}))),s.default.createElement("div",{className:"infoteaser"},s.default.createElement("span",{className:"title"},t),s.default.createElement("span",{className:"stars"},"★".repeat(o)),n?s.default.createElement("span",{className:"age"},n):"",s.default.createElement("span",{className:"year"},a),s.default.createElement("span",{className:"info"},r)))};f.PropTypes={href:r.PropTypes.string.isRequired,title:r.PropTypes.string.isRequired,age:r.PropTypes.number.isRequired,year:r.PropTypes.number.isRequired,description:r.PropTypes.string.isRequired,rating:r.PropTypes.number.isRequired,thumb:r.PropTypes.string.isRequired},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),l=n(83),o=a(l),i=n(6),u=n(16),d=a(u),c=n(15),f=a(c),p=190,m=0,h=s.default.createClass({displayName:"Item",getInitialState:function(){return{hoverTimer:null,activeItem:null}},isActiveItem:function(){return this.props.index===this.props.activeSlide},itemHovered:function(){if(!this.props.isTouch)if(this.props.detailsSlide)this.props.setDetailsSlide(this.props.item,this.props.index);else{var e=this;this.setState({hoverTimer:setTimeout(function(){e.state.hoverTimer&&e.props.setActiveSlide(e.props.index)},m)})}},itemMouseOut:function(){this.props.isTouch||(this.setState({hoverTimer:null,activeStyle:!1}),this.props.setActiveSlide(null))},openUrl:function(e,t){t.preventDefault(),this.props.isTouch&&i.browserHistory.push(e)},componentWillReceiveProps:function(e){var t=this;if(e.activeSlide!==e.index&&this.state.sliderWidth!==e.sliderWidth){var n=t.refs.item.getBoundingClientRect().width,a=parseInt(e.sliderWidth/n,10);this.setState({sliderWidth:e.sliderWidth,visibleItems:a}),t.props.setSliderHeight(n),t.props.setVisibleItems(a)}},render:function(){var e=this,t="carousel-item";this.props.activeSlide===this.props.index&&(t+=" hovered");var n="translateY(-50%)";null!==this.props.activeSlide&&(this.props.index<this.props.activeSlide?this.state.visibleItems-1===this.props.activeSlide?n+=" translateX(-"+(p-100)+"%)":0!==this.props.activeSlide&&(n+=" translateX(-"+(p-100)/2+"%)"):this.props.index>this.props.activeSlide?0===this.props.activeSlide?n+=" translateX("+(p-100)+"%)":this.props.activeSlide!==this.state.visibleItems-1&&(n+=" translateX("+(p-100)/2+"%)"):n+=0===this.props.index?" translateX("+(p-100)/2+"%) scale("+p/100+")":this.props.index===this.state.visibleItems-1?" translateX(-"+(p-100)/2+"%) scale("+p/100+")":" scale("+p/100+")");var a={transform:n};this.props.selectedSlide===this.props.index&&null!==this.props.detailsSlide&&(t+=" active");var r=(0,d.default)(this.props.item),l=(0,f.default)(this.props.item),u={backgroundImage:"url("+r+")"};return s.default.createElement("div",{className:t,ref:"item",style:a,onMouseEnter:e.itemHovered,onMouseLeave:e.itemMouseOut,onClick:this.openUrl.bind(e,l)},s.default.createElement("div",{className:"item-wrapper",style:u},s.default.createElement(i.Link,{to:l},s.default.createElement("img",{src:r})),this.isActiveItem()&&s.default.createElement("div",{className:"carousel-item-ring"}),s.default.createElement("span",null,this.isActiveItem()&&s.default.createElement(o.default,{_id:this.props.item._id,picture:this.props.item.picture,href:this.props.item.href,title:this.props.item.title,age:this.props.item.age,year:this.props.item.year,description:this.props.item.description,rating:this.props.item.rating,thumb:this.props.item.thumb,slug:this.props.item.slug})),s.default.createElement("span",{className:"details-arrow",onClick:function(){e.props.setDetailsSlide(e.props.item,e.props.index)}},s.default.createElement("b",{className:"arrow"}))))}});t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n="/"!==e[0]?"/"+e:e;return t.WEPAPP_URI+n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=a(s),o=n(3),i=a(o),u=n(147),d=a(u),c=n(31),f=(a(c),["get","post","put","patch","del"]),p=function(){function e(t){var n=this;(0,l.default)(this,e),f.forEach(function(e){return n[e]=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.params,l=a.data,o=a.fields;return new Promise(function(a,i){var u=d.default[e](r(n,t));s&&u.query(s),t.get("cookie")&&u.set("cookie",t.get("cookie")),l&&u.send(l),o&&Object.keys(o).forEach(function(e){u=u.field(e,o[e])}),u.end(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.body;return e?i(n||e):a(n)})})}})}return(0,i.default)(e,[{key:"empty",value:function(){}}]),e}();t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=void 0,n=[(0,f.default)(e),o.default],a=void 0;return a=s.applyMiddleware.apply(void 0,n)(s.createStore),t=a(d.default,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var s=n(23),l=(n(14),n(48)),o=a(l),i=n(47),u=(a(i),n(87)),d=a(u),c=n(42),f=a(c)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),s=n(14),l=n(17),o=a(l),i=n(8),u=a(i);t.default=(0,r.combineReducers)({auth:u.default,channels:o.default,reduxAsyncConnect:s.reducer})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=a(r),l=n(6),o=n(69),i=a(o),u=n(62),d=a(u),c=n(66),f=a(c),p=n(67),m=a(p),h=n(65),g=a(h),v=n(68),y=a(v),E=n(64),w=a(E),_=n(63);a(_);t.default=function(e,t){var n=function(e,n,a){if(!t)return a();var r=t.getState(),s=r.auth.user;s&&n("/browse"),a()},a=function(e,n,a){if(!t)return a();var r=t.getState(),s=r.auth.user;s||n("/login"),a()};return s.default.createElement(l.Route,null,s.default.createElement(l.Route,{component:i.default},s.default.createElement(l.Route,{path:"/browse",component:d.default}),s.default.createElement(l.Route,{path:"/watch/:channelId",component:f.default}),s.default.createElement(l.Route,{path:"/search/:query",component:m.default}),s.default.createElement(l.Route,{path:"/forgot-password(/:token)",component:w.default}),s.default.createElement(l.Route,{onEnter:n},s.default.createElement(l.Route,{path:"/login",component:g.default}),s.default.createElement(l.Route,{path:"/signup",component:y.default})),s.default.createElement(l.Route,{onEnter:a},s.default.createElement(l.Route,{path:"/change-password",component:w.default}))))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return e.user&&e.user.isAdmin&&!e.user.suspended&&e.user.validated?void n():t.status(401).send()}function s(){return w.default.find({}).sort({_id:-1}).populate("categories")}function l(e){e.username=e.email,e.createdDate=new Date,e.isAdmin=!1,e.validated=!1,e.validationToken=(0,M.default)(),e.suspended=!1,e.auth={provider:"email"};var t=new k.default(e);return t.save()}function o(){return k.default.find({})}function i(e){var t,n;return k.default.findOne({username:e.email}).then(function(n){if(!n)throw new Error("Email not found in our database.");if(!n.validated)throw new Error("This email address is not validated. Please check your inbox.");if(!n.isAdmin)throw new Error("You don't have admin permissions");if(n.suspended)throw new Error("This email address is suspended");return t=n,t.comparePassword(e.password)}).then(function(e){if(e)return n="JWT "+h.default.encode({_id:t._id},b.default.JWT_SECRET_KEY),{token:n,user:{_id:t._id,name:t.name,email:t.email,username:t.username,auth:t.auth}};throw new Error("Incorrect password.")})}function u(e,t){return k.default.findOneAndUpdate({_id:e},{$set:t})}Object.defineProperty(t,"__esModule",{value:!0});var d=n(19),c=a(d),f=n(13),p=a(f),m=n(30),h=a(m),g=n(21),v=a(g),y=n(49),E=(a(y),n(43)),w=a(E),_=n(10),b=a(_),C=n(28),k=a(C),S=n(34),M=a(S),P=n(27),N=n(26),O=p.default.Router();O.post("/update-user",v.default.authenticate("jwt",{session:!1}),r,function(e,t){e.checkBody("id","Please provide a valid `id`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);var n=e.body.id,a=c.default.pick(e.body,["isAdmin","validated","suspended"]);if(a.admin&&"boolean"!=typeof a.admin)throw new Error("`admin` should be boolean");return u(n,a)}).then(function(e){return t.json(Object.assign({success:!0},e))}).catch(function(e){t.json({success:!1,error:{message:e.message}})})}),O.get("/list",v.default.authenticate("jwt",{session:!1}),r,function(e,t){o().then(function(e){return t.json({success:!0,users:e})}).catch(function(e){t.json({success:!1,error:{message:e.message}})})}),O.post("/authenticate",function(e,t){console.log(e.body),e.checkBody("email","Please provide a valid `email`").notEmpty(),e.checkBody("password","Please provide a valid `password`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);return i({email:e.body.email,password:e.body.password})}).then(function(e){t.json(Object.assign({success:!0},e))}).catch(function(e){t.json({success:!1,message:e.message})})}),O.post("/change-password",v.default.authenticate("jwt",{session:!1}),r,v.default.authenticate("jwt",{session:!1}),function(e,t){e.checkBody("password","Please provide a valid `password.`").notEmpty(),e.checkBody("userId","Please provide a valid `userId.`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);return(0,P.getHashPassword)(e.body.password).then(function(t){return k.default.findOneAndUpdate({_id:e.body.userId},{$set:{password:t}})}).then(function(e){if(!e)throw new Error("The email address was not found in our database.");return e})}).then(function(){t.json({success:!0,message:"The password was successfully updated."})}).catch(function(e){t.json({success:!1,message:e.message})})}),O.post("/create-user",v.default.authenticate("jwt",{session:!1}),r,function(e,t){e.checkBody("email","Please provide a valid `email`").notEmpty(),e.checkBody("password","Please provide a valid `password`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);return l(c.default.pick(e.body,["email","password"]))}).then(function(e){(0,N.sendValidationEmail)({email:e.email,validationToken:e.validationToken},function(){}),t.json({success:!0,message:"Account created. An activation email was send"})}).catch(function(e){var n=e.message;console.log(e.code),11e3==e.code&&(n="This email address is already registered."),t.json({success:!1,message:n})})}),O.get("/delete",v.default.authenticate("jwt",{session:!1}),r,function(e,t){e.query.id;e.checkQuery("id","Please provide a valid `id`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);return k.default.remove({_id:e.query.id})}).then(function(e){return t.json(Object.assign({success:!0,message:"The account was successfully deleted."}))}).catch(function(e){t.json({success:!1,error:{message:e.message}})})}),O.get("/get-channels",function(e,t){s(e.query.query).then(function(e){return t.json({success:!0,channels:e})}).catch(function(e){t.json({success:!1,message:e.message})})}),t.default=O},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return i.default.find({})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(13),l=a(s),o=n(91),i=a(o),u=l.default.Router();u.get("/list",function(e,t){r().then(function(e){return t.json({success:!0,categories:e})}).catch(function(e){t.json({success:!1,error:{message:e.message}})})}),t.default=u},function(e,t,n){"use strict";var a=n(20),r=a.Schema,s=new r({name:{type:String},channels:[{type:r.Types.ObjectId,ref:"Channel"}]}),l=a.model("Category",s);e.exports=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),s=a(r),l=n(93),o=s.default.Router();o.get("/",l.searchChannelsListener),o.post("/:id/related",l.getRelatedChannelsListener),o.get("/add-view",l.addViewListener),o.get("/categories",l.listChannelsListener),o.get("/get",l.getChannelByIdListener),t.default=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return v.default.findOne({_id:e}).populate("categories")}function s(){return v.default.find({}).sort({_id:-1}).populate("categories")}function l(e){if(e){var t=[];return e.split(" ").map(function(e){t.push({title:new RegExp(e,"i")}),t.push({description:new RegExp(e,"i")}),t.push({slug:new RegExp(e,"i")})}),v.default.find({$query:{$or:t}}).sort({views:-1})}return s()}function o(e){return"string"==typeof e&&e.charAt(0)?v.default.find({title:{$regex:new RegExp("^"+e.charAt(0)),$options:"i"}}):Promise.reject({message:"Wrong parameters"})}function i(e,t){if(e&&t){var n=[];return t.split(" ").map(function(e){n.push({title:new RegExp(e,"i")}),n.push({description:new RegExp(e,"i")}),n.push({slug:new RegExp(e,"i")})}),v.default.find({$and:[{$or:n},{_id:{$ne:e}}]},[],{skip:0,limit:5,sort:{views:-1}})}return Promise.reject({message:"Wrong parameters"})}function u(e){var t={};e.forEach(function(e){var n=JSON.parse(JSON.stringify(e));n.categories&&delete n.categories,e.categories.forEach(function(e){t[e._id]||(t[e._id]={_id:e._id,name:e.name,channels:[]}),t[e._id].channels||(t[e._id].channels=[]),t[e._id].channels.push(n)})});var n=[];for(var a in t)n.push(t[a]);return n.sort(function(e,t){return e.name>t.name}),n}function d(e,t){i(e.params.id,e.query.title).then(function(e){return t.json({success:!0,channels:e})}).catch(function(e){t.json({success:!1,message:e.message})})}function c(e,t){o(e.query.filter).then(function(e){return t.json({success:!0,channel:e})}).catch(function(e){t.json({success:!1,message:e.message})})}function f(e,t){var n=void 0,a=e.query.q;a?n=l:(a=e.query.filter,n=o),n(a).then(function(e){return t.json({success:!0,channels:e})}).catch(function(e){t.json({success:!1,message:e.message})})}function p(e,t){v.default.findOneAndUpdate({_id:e.query.id},{$inc:{views:1}}).then(function(e){return t.json({success:!0})}).catch(function(e){t.json({success:!1,message:e.message})})}function m(e,t){s().then(function(e){return t.json({success:!0,categories:u(e)})}).catch(function(e){t.json({success:!1,message:e.message})})}function h(e,t){r(e.query.id).then(function(e){return t.json({success:!0,channel:e})}).catch(function(e){t.json({success:!1,message:e.message})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getRelatedChannelsListener=d,t.getChannelByLetterListener=c,t.searchChannelsListener=f,t.addViewListener=p,t.listChannelsListener=m,t.getChannelByIdListener=h;var g=n(43),v=a(g)},function(e,t){"use strict";e.exports={}},function(e,t){"use strict";e.exports={}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=e.email,a=e.forgotPasswordToken,r=c.forgotEmail(f.user,n,a);p.messages().send(r,function(e,n){e?console.log(e):console.log("Message %s sent: %s",n.id,n.message),t()})}function l(e,t){var n=e.email,a=e.validationToken,r=c.validationEmail(f.user,n,a);p.messages().send(r,function(e,n){e?console.log(e):console.log("Message %s sent: %s",n.id,n.message),t()})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendForgotPasswordEmail=s,t.sendValidationEmail=l;var o=n(139),i=r(o),u=n(10),d=(r(u),n(44)),c=a(d),f={apiKey:"key-41efc7bd95cd58f7f0c6f085cde1c5e6",domain:"mailgun.raptureready.tv",user:"no.reply@mailgun.raptureready.tv"},p=(0,i.default)({apiKey:f.apiKey,domain:f.domain})},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=e.email,a=e.forgotPasswordToken,r=c.forgotEmail(f.user,n,a);p.sendMail(r,function(e,n){e?console.log(e):console.log("Message %s sent: %s",n.messageId,n.response),t()})}function l(e,t){var n=e.email,a=e.validationToken,r=c.validationEmail(f.user,n,a);p.sendMail(r,function(e,n){e?console.log(e):console.log("Message %s sent: %s",n.messageId,n.response),t()})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendForgotPasswordEmail=s,t.sendValidationEmail=l;var o=n(140),i=r(o),u=n(10),d=(r(u),n(44)),c=a(d),f={user:"noreply.eternityready@gmail.com",pass:"xxxxxx"},p=i.default.createTransport({service:"gmail",auth:f})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),s=a(r),l=n(1),o=a(l),i=n(144),u=a(i),d=n(6),c=n(19),f=(a(c),n(131)),p=a(f),m=n(132),h=a(m),g=n(13),v=a(g),y=n(136),E=a(y),w=n(20),_=a(w),b=n(130),C=a(b),k=n(21),S=a(k),M=n(146),P=a(M),N=n(135),O=a(N),T=n(10),x=a(T),R=n(14),j=n(7),A=n(59),D=a(A),U=n(85),L=a(U),q=n(86),I=a(q),H=n(61),W=a(H),F=n(88),V=a(F),B=n(99),z=n(89),K=a(z),Y=n(90),G=a(Y),J=n(92),Q=a(J),X=n(100),$=a(X);global.__SERVER__=!0,n(133).polyfill(),n(137),_.default.Promise=C.default;var Z=process.env.STATIC_ASSETS_CDN||"",ee=process.env.WEBPACK_ASSETS||"";global.__currentRequestUserAgent__="",console.log("port "+process.env.PORT),console.log("connect to "+x.default.MONGO_URL),_.default.connect(x.default.MONGO_URL);var te=(0,v.default)();te.use(v.default.static("www")),te.use(O.default.express()),te.set("view engine","pug"),te.set("views",__dirname+"/views/"),te.use((0,h.default)()),te.use(p.default.json()),te.use(p.default.urlencoded({extended:!0})),te.use((0,E.default)([{}])),(0,B.passportInit)(te),te.use(function(e,t,n){e.WEPAPP_URI=x.default.WEPAPP_URI;var a=void 0;e.url.indexOf("admin")>=0?(a=e.cookies["admin/auth/token"],a&&(e.headers.authorization=a)):(a=e.cookies["auth/token"],a&&(e.headers.authorization=a)),n()}),process.env.ADMIN||(te.use("/api/user",$.default),te.use("/api/category",G.default),te.use("/api/channels",Q.default),te.use("/login|/signup",function(e,t,n){e.user?t.redirect("/browse"):n()}),te.use("/change-password",S.default.authenticate("jwt",{session:!1,failureRedirect:"/login"})),te.get("*",function(e,t){global.__currentRequestUserAgent__=e.useragent,(0,d.match)({routes:(0,V.default)({}),location:e.url},function(n,a,r){if(n)t.status(500).send(n.message);else if(a)t.redirect(302,a.pathname+a.search);else if(r){var l=new L.default(e),i=(0,I.default)(l);(0,R.loadOnServer)((0,s.default)({},r,{store:i})).then(function(){var e=function(e,n){t.send('\n            <!DOCTYPE html>\n            <html>\n              <head>\n                <meta charset="utf-8">\n                <title>Eternity Ready</title>\n                <meta name="viewport" content="width=device-width,initial-scale=1">\n                <link rel="stylesheet" type="text/css" href="'+Z+'/styles.css">\n                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>\n                <link rel="shortcut icon" href="favicon.ico" />\n              </head>\n              <body>\n                <div id="root">'+e+"</div>\n                <script dangerouslySetInnerHTML={{__html: window.__data="+(0,P.default)(n.getState())+';}} charSet="UTF-8"> </script>\n                <script type="text/javascript" src="'+ee+'/app.js"></script>\n              </body>\n            </html>')},n=u.default.renderToString(o.default.createElement(j.Provider,{store:i,key:"provider"},o.default.createElement(d.RouterContext,r))),a=e(n,i);t.send(a)})}else t.status(404).send("Not found")})})),process.env.ADMIN&&(te.use("/api/admin",K.default),te.use("/admin/|/admin/users|/admin/channels",S.default.authenticate("jwt",{session:!1,failureRedirect:"/admin/login"})),te.use("/admin/|/admin/users|/admin/channels",function(e,t,n){return e.user.isAdmin?n():t.redirect("/admin/login")}),te.get("/admin*",function(e,t){global.__currentRequestUserAgent__=e.useragent,(0,d.match)({routes:(0,W.default)({}),location:e.url},function(n,a,r){if(n)t.status(500).send(n.message);else if(a)t.redirect(302,a.pathname+a.search);else if(r){var l=new L.default(e),i=(0,D.default)(l);(0,R.loadOnServer)((0,s.default)({},r,{store:i})).then(function(){var e=function(e,n){t.send('\n            <!DOCTYPE html>\n            <html>\n              <head>\n                <meta charset="utf-8">\n                <title>Admin - Eternity Ready</title>\n                <meta name="viewport" content="width=device-width,initial-scale=1">\n                <link rel="stylesheet" type="text/css" href="'+Z+'/admin-styles.css">\n                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>\n                <link rel="shortcut icon" href="/favicon.ico" />\n              </head>\n              <body>\n                <div id="root">'+e+"</div>\n                <script dangerouslySetInnerHTML={{__html: window.__data="+(0,P.default)(n.getState())+';}} charSet="UTF-8"> </script>\n                <script type="text/javascript" src="'+ee+'/admin-app.js"></script>\n              </body>\n            </html>\n          ')},n=u.default.renderToString(o.default.createElement(j.Provider,{store:i,key:"provider"},o.default.createElement(d.RouterContext,r))),a=e(n,i);t.send(a)})}else t.status(404).send("Not found")})})),t.default=te},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a){var r=n.provider+"/"+n.id,s={username:r,email:((n.emails||[])[0]||{}).value,name:n.displayName,avatar:((n.photos||[])[0]||{}).value,validated:!0,auth:{id:n.id,provider:n.provider,accessToken:e,refreshToken:t}};E.default.findOne({username:r},function(e,t){return e?a(e):t?void a(null,t):E.default.create(s,a)})}function s(e,t){var n="JWT "+d.default.encode({_id:e.user._id},g.default.JWT_SECRET_KEY),a=JSON.stringify(e.user);t.render("oauth",{success:!0,token:n,user:a})}function l(e){var t={jwtFromRequest:c.ExtractJwt.fromAuthHeader(),secretOrKey:g.default.JWT_SECRET_KEY};i.default.use(new c.Strategy(t,function(e,t){E.default.findOne({_id:e._id},function(e,n){return e?t(e,!1):void(n&&n.validated&&!n.suspended?t(null,JSON.parse(JSON.stringify(n))):t(null,!1))})})),i.default.serializeUser(function(e,t){t(null,e)}),i.default.deserializeUser(function(e,t){t(null,e)}),i.default.use(new f.Strategy({clientID:"654985928045301",clientSecret:"34638a9e8a4706a1ed0429291384730e",callbackURL:"/auth/facebook/callback",profileFields:["id","displayName","photos","email"]},r)),i.default.use(new p.Strategy({consumerKey:"Sw9CdzldIiQlLvJptJXAZeFGK",
consumerSecret:"igKst5zHYjWVRiwSaxyyEqxfmHRpRGexUZPy3t0zAflR6HQlnD",callbackURL:"/auth/twitter/callback",includeEmail:!0},r)),e.use(n(134)({secret:"jdnbd2397rgdadjnbvq",resave:!0,saveUninitialized:!0})),e.use(i.default.initialize()),e.use(i.default.session()),e.get("/auth/facebook",i.default.authenticate("facebook",{scope:["public_profile","email"]})),e.get("/auth/facebook/callback",i.default.authenticate("facebook",{failureRedirect:"/login"}),s),e.get("/auth/twitter",i.default.authenticate("twitter",{session:!1})),e.get("/auth/twitter/callback",i.default.authenticate("twitter",{session:!1,failureRedirect:"/login"}),s)}Object.defineProperty(t,"__esModule",{value:!0}),t.passportInit=l;var o=n(21),i=a(o),u=n(30),d=a(u),c=n(142),f=n(141),p=n(143),m=n(34),h=(a(m),n(10)),g=a(h),v=(n(26),n(29)),y=(a(v),n(28)),E=a(y)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){e.username=e.email,e.createdDate=new Date,e.isAdmin=!1,e.validated=!1,e.validationToken=(0,S.default)(),e.suspended=!1,e.auth={provider:"email"};var t=new w.default(e);return t.save()}function s(){return w.default.find({})}function l(e){var t,n;return w.default.findOne({username:e.email}).then(function(n){if(!n)throw new Error("Email not found in our database.");if(!n.validated)throw new Error("This email address is not validated. Please check your inbox.");if(n.suspended)throw new Error("This email address is suspended");return t=n,t.comparePassword(e.password)}).then(function(e){if(e)return n="JWT "+v.default.encode({_id:t._id},b.default.JWT_SECRET_KEY),{token:n,user:{_id:t._id,name:t.name,email:t.email,username:t.username,auth:t.auth}};throw new Error("Incorrect password.")})}function o(e,t){return w.default.findOneAndUpdate({_id:e},{$set:t})}function i(e){return w.default.findOneAndUpdate({validationToken:e},{$set:{validated:!0}}).then(function(e){if(!e)throw new Error("Invalid link!");return e})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(49),d=(a(u),n(19)),c=a(d),f=n(13),p=a(f),m=n(21),h=a(m),g=n(30),v=a(g),y=n(26),E=n(28),w=a(E),_=n(10),b=a(_),C=n(27),k=n(34),S=a(k),M=p.default.Router();M.post("/signup",function(e,t){e.checkBody("email","Please provide a valid `email`").notEmpty(),e.checkBody("password","Please provide a valid `password`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);return r(c.default.pick(e.body,["email","password"]))}).then(function(e){(0,y.sendValidationEmail)({email:e.email,validationToken:e.validationToken},function(){}),t.json({success:!0,message:"An activation email was send."})}).catch(function(e){var n=e.message;console.log(e.code),11e3==e.code&&(n="This email address is already registered."),t.json({success:!1,message:n})})}),M.post("/update-user",function(e,t){e.checkBody("id","Please provide a valid `id`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);var n=e.body.id,a=c.default.pick(e.body,["isAdmin"]);if(a.admin&&"boolean"!=typeof a.admin)throw new Error("`admin` should be boolean");return o(n,a)}).then(function(e){return t.json(Object.assign({success:!0},e))}).catch(function(e){t.json({success:!1,error:{message:e.message}})})}),M.get("/list",function(e,t){s().then(function(e){return t.json({success:!0,users:e})}).catch(function(e){t.json({success:!1,error:{message:e.message}})})}),M.post("/authenticate",function(e,t){console.log(e.body),e.checkBody("email","Please provide a valid `email`").notEmpty(),e.checkBody("password","Please provide a valid `password`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);return l({email:e.body.email,password:e.body.password})}).then(function(e){t.json(Object.assign({success:!0},e))}).catch(function(e){t.json({success:!1,message:e.message})})}),M.get("/validate",function(e,t){e.checkQuery("token","Please provide a valid `email`").notEmpty(),i(e.query.token).then(function(){return t.redirect("/login")}).catch(function(e){return t.json({success:!1,message:e.message})})}),M.post("/send-forgot-password-email",function(e,t){e.checkBody("email","Please provide a valid `email`").notEmpty();var n=(0,S.default)();w.default.findOneAndUpdate({username:e.body.email},{$set:{forgotPasswordToken:n}}).then(function(a){if(!a)throw new Error("The email address was not found in our database.");(0,y.sendForgotPasswordEmail)({email:e.body.email,forgotPasswordToken:n},function(){}),t.json({success:!0,message:"An email with reset password instructions was successfully sent."})}).catch(function(e){return t.json({success:!1,message:e.message})})}),M.post("/change-password",h.default.authenticate("jwt",{session:!1}),function(e,t){e.checkBody("password","Please provide a valid `password.`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);return(0,C.getHashPassword)(e.body.password).then(function(t){return w.default.findOneAndUpdate({_id:e.user._id},{$set:{password:t}})}).then(function(e){if(!e)throw new Error("The email address was not found in our database.");return e})}).then(function(){t.json({success:!0,message:"The password was successfully updated."})}).catch(function(e){t.json({success:!1,message:e.message})})}),M.post("/reset-password",function(e,t){e.checkBody("password","Please provide a valid `password`").notEmpty(),e.checkBody("token","Please provide a valid `token`").notEmpty(),e.getValidationResult().then(function(t){if(!t.isEmpty())throw new Error(t.array()[0].msg);return(0,C.getHashPassword)(e.body.password).then(function(t){return w.default.findOneAndUpdate({forgotPasswordToken:e.body.token},{$set:{password:t}})}).then(function(e){if(!e)throw new Error("The email address was not found in our database.");return e})}).then(function(){t.json({success:!0,message:"The password was successfully updated."})}).catch(function(e){t.json({success:!1,message:e.message})})}),t.default=M},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){e.exports=n.p+"0be7ebbeff2e86b36c1ffbd3f19c8026.gif"},function(e,t,n){e.exports=n.p+"1d61a288657163c7a5bbeacbe31ca5f7.gif"},function(e,t,n){e.exports=n.p+"ce6e27d96021940aa8e76f72506298bc.svg"},function(e,t,n){function a(e){return n(r(e))}function r(e){return s[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var s={"./development.js":94,"./index.js":10,"./production.js":95};a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id=126},function(e,t){e.exports=require("babel-runtime/helpers/objectWithoutProperties")},function(e,t){e.exports=require("babel-runtime/helpers/slicedToArray")},function(e,t){e.exports=require("babel-runtime/helpers/typeof")},function(e,t){e.exports=require("bluebird")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("es6-promise")},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("express-useragent")},function(e,t){e.exports=require("express-validator")},function(e,t){e.exports=require("fetch-everywhere")},function(e,t){e.exports=require("javascript-debounce")},function(e,t){e.exports=require("mailgun-js")},function(e,t){e.exports=require("nodemailer")},function(e,t){e.exports=require("passport-facebook")},function(e,t){e.exports=require("passport-jwt")},function(e,t){e.exports=require("passport-twitter")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("rx")},function(e,t){e.exports=require("serialize-javascript")},function(e,t){e.exports=require("superagent")}]);
//# sourceMappingURL=server-bundle.js.map